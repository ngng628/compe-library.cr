{"repository_name":"nglib","body":"# compe library for crystal\n\n[![Actions Status](https://github.com/ngng628/compe-library.cr/workflows/verify/badge.svg)](https://github.com/ngng628/compe-library.cr/actions) \n[![GitHub Pages](https://img.shields.io/static/v1?label=GitHub+Pages&message=+&color=brightgreen&logo=github)](https://ngng628.github.io/compe-library.cr/)\n[![License: CC0-1.0](https://img.shields.io/badge/License-CC0_1.0-lightgrey.svg)](http://creativecommons.org/publicdomain/zero/1.0/)\n\n\n\n## これはなに？\n競技プログラミング用の Crystal ライブラリです。\n\n[google/ac-library.cr](https://github.com/google/ac-library.cr) に依存しています。\n\n\n## Link\n\n**Verify** : [https://ngng628.github.io/compe-library.cr/docs](https://ngng628.github.io/compe-library.cr/docs)\n\n**API Reference** : [https://ngng628.github.io/compe-library.cr/api](https://ngng628.github.io/compe-library.cr/api)\n","program":{"html_id":"nglib/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"nglib","program":true,"enum":false,"alias":false,"const":false,"constants":[{"id":"OO","name":"OO","value":"(1_i64 << 62) - (1_i64 << 31)"}],"class_methods":[{"html_id":"int(b=0)-class-method","name":"int","abstract":false,"args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"args_string":"(b = 0)","args_html":"(b = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/utils.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/utils/utils.cr#L1"},"def":{"name":"int","args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"visibility":"Public","body":"read_line.to_i64 + b"}},{"html_id":"ints(b=0)-class-method","name":"ints","abstract":false,"args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"args_string":"(b = 0)","args_html":"(b = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/utils.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/utils/utils.cr#L2"},"def":{"name":"ints","args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"visibility":"Public","body":"read_line.split.map do |x|\n  x.to_i64 + b\nend"}},{"html_id":"str-class-method","name":"str","abstract":false,"location":{"filename":"src/nglib/utils/utils.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/utils/utils.cr#L3"},"def":{"name":"str","visibility":"Public","body":"read_line.chomp"}}],"macros":[{"html_id":"chmax(a,b)-macro","name":"chmax","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/nglib/utils/utils.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/utils/utils.cr#L4"},"def":{"name":"chmax","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":" (\n{{ a }}\n < \n{{ b }}\n && (\n{{ a }}\n = \n{{ b }}\n)) \n"}},{"html_id":"chmin(a,b)-macro","name":"chmin","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/nglib/utils/utils.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/utils/utils.cr#L5"},"def":{"name":"chmin","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":" (\n{{ a }}\n > \n{{ b }}\n && (\n{{ a }}\n = \n{{ b }}\n)) \n"}},{"html_id":"make_array(s,x)-macro","name":"make_array","abstract":false,"args":[{"name":"s","external_name":"s","restriction":""},{"name":"x","external_name":"x","restriction":""}],"args_string":"(s, x)","args_html":"(s, x)","location":{"filename":"src/nglib/utils/utils.cr","line_number":6,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/utils/utils.cr#L6"},"def":{"name":"make_array","args":[{"name":"s","external_name":"s","restriction":""},{"name":"x","external_name":"x","restriction":""}],"visibility":"Public","body":"  Array.new(\n{{ s[0] }}\n)\n{\n    \n{% if s[1..s.size].empty? %}; {{ x }}\n    {% else %}; make_array({{ s[1..s.size] }}, {{ x }}) {% end %}\n\n  }\n\n"}}],"types":[{"html_id":"nglib/Char","path":"Char.html","kind":"struct","full_name":"Char","name":"Char","abstract":false,"superclass":{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},"ancestors":[{"html_id":"nglib/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"},{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":9,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L9"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"}],"doc":"A `Char` represents a [Unicode](http://en.wikipedia.org/wiki/Unicode) [code point](http://en.wikipedia.org/wiki/Code_point).\nIt occupies 32 bits.\n\nIt is created by enclosing an UTF-8 character in single quotes.\n\n```\n'a'\n'z'\n'0'\n'_'\n'あ'\n```\n\nYou can use a backslash to denote some characters:\n\n```\n'\\'' # single quote\n'\\\\' # backslash\n'\\e' # escape\n'\\f' # form feed\n'\\n' # newline\n'\\r' # carriage return\n'\\t' # tab\n'\\v' # vertical tab\n```\n\nYou can use a backslash followed by an *u* and four hexadecimal characters to denote a unicode codepoint written:\n\n```\n'\\u0041' # == 'A'\n```\n\nOr you can use curly braces and specify up to four hexadecimal numbers:\n\n```\n'\\u{41}' # == 'A'\n```\n\nSee [`Char` literals](https://crystal-lang.org/reference/syntax_and_semantics/literals/char.html) in the language reference.","summary":"<p>A <code><a href=\"Char.html\">Char</a></code> represents a <a href=\"http://en.wikipedia.org/wiki/Unicode\">Unicode</a> <a href=\"http://en.wikipedia.org/wiki/Code_point\">code point</a>.</p>","class_methods":[{"html_id":"bar-class-method","name":"bar","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":10,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L10"},"def":{"name":"bar","visibility":"Public","body":"'#'"}}]},{"html_id":"nglib/Int","path":"Int.html","kind":"struct","full_name":"Int","name":"Int","abstract":true,"superclass":{"html_id":"nglib/Number","kind":"struct","full_name":"Number","name":"Number"},"ancestors":[{"html_id":"nglib/Number","kind":"struct","full_name":"Number","name":"Number"},{"html_id":"nglib/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"},{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L3"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"doc":"Int is the base type of all integer types.\n\nThere are four signed integer types: `Int8`, `Int16`, `Int32` and `Int64`,\nbeing able to represent numbers of 8, 16, 32 and 64 bits respectively.\nThere are four unsigned integer types: `UInt8`, `UInt16`, `UInt32` and `UInt64`.\n\nAn integer literal is an optional `+` or `-` sign, followed by\na sequence of digits and underscores, optionally followed by a suffix.\nIf no suffix is present, the literal's type is `Int32`, or `Int64` if the\nnumber doesn't fit into an `Int32`:\n\n```\n1 # Int32\n\n1_i8  # Int8\n1_i16 # Int16\n1_i32 # Int32\n1_i64 # Int64\n\n1_u8  # UInt8\n1_u16 # UInt16\n1_u32 # UInt32\n1_u64 # UInt64\n\n+10 # Int32\n-20 # Int32\n\n2147483648 # Int64\n```\n\nLiterals without a suffix that are larger than `Int64::MAX` represent a\n`UInt64` if the number fits, e.g. `9223372036854775808` and\n`0x80000000_00000000`. This behavior is deprecated and will become an error in\nthe future.\n\nThe underscore `_` before the suffix is optional.\n\nUnderscores can be used to make some numbers more readable:\n\n```\n1_000_000 # better than 1000000\n```\n\nBinary numbers start with `0b`:\n\n```\n0b1101 # == 13\n```\n\nOctal numbers start with `0o`:\n\n```\n0o123 # == 83\n```\n\nHexadecimal numbers start with `0x`:\n\n```\n0xFE012D # == 16646445\n0xfe012d # == 16646445\n```\n\nSee [`Integer` literals](https://crystal-lang.org/reference/syntax_and_semantics/literals/integers.html) in the language reference.","summary":"<p>Int is the base type of all integer types.</p>","class_methods":[{"html_id":"bar-class-method","name":"bar","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L4"},"def":{"name":"bar","visibility":"Public","body":"-1"}}]},{"html_id":"nglib/NgLib","path":"NgLib.html","kind":"module","full_name":"NgLib","name":"NgLib","abstract":false,"locations":[{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L1"},{"filename":"src/nglib/graph/bfs.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L3"},{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L3"},{"filename":"src/nglib/graph/lca.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L3"},{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L3"},{"filename":"src/nglib/graph/weighted-edge.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/weighted-edge.cr#L1"},{"filename":"src/nglib/grid/grid.cr","line_number":15,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L15"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"types":[{"html_id":"nglib/NgLib/BfsGraph","path":"NgLib/BfsGraph.html","kind":"class","full_name":"NgLib::BfsGraph","name":"BfsGraph","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/bfs.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(n:Int)-class-method","name":"new","doc":"$n$ 頂点 $0$ 辺からなるグラフを作成します。\n\n```\ngraph = BfsGraph.new(n)\n```","summary":"<p>$n$ 頂点 $0$ 辺からなるグラフを作成します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"}],"args_string":"(n : Int)","args_html":"(n : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L13"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"}],"visibility":"Public","body":"_ = allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(u:Int,v:Int,directed:Bool=false)-instance-method","name":"add_edge","doc":"辺 $(u, v)$ を追加します。\n\n`directed` が `true` の場合、\n有向グラフとみなして、$u$ から $v$ への辺のみ生やします。\n\n```\ngraph = BfsGraph.new(n)\ngraph.add_edge(u, v)                 # => (u) <---w---> (v)\ngraph.add_edge(u, v, directed: true) # => (u) ----w---> (v)\n```","summary":"<p>辺 $(u, v)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"args_string":"(u : Int, v : Int, directed : Bool = false)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, directed : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":28,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L28"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"visibility":"Public","body":"@graph[u.to_i32] << v.to_i32\nif directed\nelse\n  @graph[v.to_i32] << u.to_i32\nend\n"}},{"html_id":"graph:Array(Array(Int32))-instance-method","name":"graph","abstract":false,"location":{"filename":"src/nglib/graph/bfs.cr","line_number":6,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L6"},"def":{"name":"graph","return_type":"Array(Array(Int32))","visibility":"Public","body":"@graph"}},{"html_id":"shortest_path(start:Int,dest:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から終点 `dest` への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2, dest: 0)\ndist # => 12\n```","summary":"<p>始点 <code>start</code> から終点 <code>dest</code> への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"args_string":"(start : Int, dest : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>, dest : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":69,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L69"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"visibility":"Public","body":"(shortest_path(start))[dest]"}},{"html_id":"shortest_path(start:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から各頂点への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2)\ndist # => [3, 8, 0, 7, 1]\n```","summary":"<p>始点 <code>start</code> から各頂点への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"}],"args_string":"(start : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":49,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L49"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"}],"visibility":"Public","body":"queue = Deque.new([start.to_i32])\ndist = Array.new(@size) do |i|\n  i == start ? 0_i64 : OO\nend\nwhile !queue.empty?\n  from = queue.shift\n  @graph[from].each do |to|\n    if dist[to] != OO\n      next\n    end\n    dist[to] = dist[from] + 1\n    queue << to\n  end\nend\ndist\n"}},{"html_id":"shortest_path-instance-method","name":"shortest_path","doc":"全点対間の最短経路長を返します。\n\n```\ndists = graph.shortest_path\ndists # => [[0, 1, 3], [1, 0, 2], [1, 1, 0]]\n```","summary":"<p>全点対間の最短経路長を返します。</p>","abstract":false,"location":{"filename":"src/nglib/graph/bfs.cr","line_number":39,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L39"},"def":{"name":"shortest_path","visibility":"Public","body":"(0...@size).map do |s|\n  shortest_path(s)\nend"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/graph/bfs.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/bfs.cr#L5"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}]},{"html_id":"nglib/NgLib/DijkstraGraph","path":"NgLib/DijkstraGraph.html","kind":"class","full_name":"NgLib::DijkstraGraph(Weight)","name":"DijkstraGraph","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":20,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L20"},{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(n:Int)-class-method","name":"new","doc":"$n$ 頂点 $0$ 辺からなるグラフを作成します。\n\n```\ngraph = Dijkstra.new(n)\n```","summary":"<p>$n$ 頂点 $0$ 辺からなるグラフを作成します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"}],"args_string":"(n : Int)","args_html":"(n : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":73,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L73"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"}],"visibility":"Public","body":"_ = DijkstraGraph(Weight).allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(u:Int,v:Int,w:Int,directed:Bool=false)-instance-method","name":"add_edge","doc":"非負整数の重み $w$ の辺 $(u, v)$ を追加します。\n\n`directed` が `true` の場合、\n有向グラフとみなして、$u$ から $v$ への辺のみ生やします。\n\n```\ngraph = Dijkstra.new(n)\ngraph.add_edge(u, v, w)                 # => (u) <---w---> (v)\ngraph.add_edge(u, v, w, directed: true) # => (u) ----w---> (v)\n```","summary":"<p>非負整数の重み $w$ の辺 $(u, v)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"args_string":"(u : Int, v : Int, w : Int, directed : Bool = false)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, w : <a href=\"../Int.html\">Int</a>, directed : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":88,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L88"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"visibility":"Public","body":"@graph[u.to_i32] << (Edge.new(v.to_i32, w.to_u64))\nif directed\nelse\n  @graph[v.to_i32] << (Edge.new(u.to_i32, w.to_u64))\nend\n"}},{"html_id":"add_edge(u:Int,v:Int,w:Weight,directed:Bool=false)-instance-method","name":"add_edge","doc":"非負整数の重み $w$ の辺 $(u, v)$ を追加します。\n\n`directed` が `true` の場合、\n有効グラフとみなして、$u$ から $v$ への辺のみ生やします。\n\n```\ngraph = Dijkstra.new(n)\ngraph.add_edge(u, v, w)                 # => (u) <---w---> (v)\ngraph.add_edge(u, v, w, directed: true) # => (u) ----w---> (v)\n```","summary":"<p>非負整数の重み $w$ の辺 $(u, v)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Weight"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"args_string":"(u : Int, v : Int, w : Weight, directed : Bool = false)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, w : Weight, directed : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":46,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L46"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Weight"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"visibility":"Public","body":"@graph[u.to_i32] << (Edge.new(v.to_i32, w))\nif directed\nelse\n  @graph[v.to_i32] << (Edge.new(u.to_i32, w))\nend\n"}},{"html_id":"shortest_path(start:Int,dest:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から終点 `dest` への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2, dest: 0)\ndist # => 12\n```","summary":"<p>始点 <code>start</code> から終点 <code>dest</code> への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"args_string":"(start : Int, dest : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>, dest : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":136,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L136"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"visibility":"Public","body":"(shortest_path(start))[dest]"}},{"html_id":"shortest_path(start:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から各頂点への最短経路長を返します。\n\n```\ndist = graph.shortest_path(2)\ndist # => [3, 8, 0, 7, 1]\n```","summary":"<p>始点 <code>start</code> から各頂点への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"}],"args_string":"(start : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":109,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L109"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"}],"visibility":"Public","body":"dist = [OO] * @size\ndist[start] = 0_i64\nnext_node = RadixHeap64(Int32).new\nnext_node.push(0_u64, start.to_i32)\nwhile !next_node.empty?\n  d, source = next_node.pop\n  if dist[source] < d\n    next\n  end\n  @graph[source].each do |e|\n    next_cost = dist[source] + e.weight\n    if next_cost < dist[e.target]\n      dist[e.target] = next_cost\n      next_node.push(next_cost.to_u64, e.target)\n    end\n  end\nend\ndist\n"}},{"html_id":"shortest_path-instance-method","name":"shortest_path","doc":"全点対間の最短経路長を返します。\n\n```\ndists = graph.shortest_path\ndists # => [[0, 1, 3], [1, 0, 2], [1, 1, 0]]\n```","summary":"<p>全点対間の最短経路長を返します。</p>","abstract":false,"location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":99,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L99"},"def":{"name":"shortest_path","visibility":"Public","body":"(0...@size).map do |s|\n  shortest_path(s)\nend"}},{"html_id":"shortest_path_route(start,dest)-instance-method","name":"shortest_path_route","doc":"始点 `start` から終点 `dest` への最短経路の一例を返します。\n\n```\nroute = graph.shortest_path_route(start: 2, dest: 0)\nroute # => [2, 7, 1, 0]\n```","summary":"<p>始点 <code>start</code> から終点 <code>dest</code> への最短経路の一例を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":""},{"name":"dest","external_name":"dest","restriction":""}],"args_string":"(start, dest)","args_html":"(start, dest)","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":146,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L146"},"def":{"name":"shortest_path_route","args":[{"name":"start","external_name":"start","restriction":""},{"name":"dest","external_name":"dest","restriction":""}],"visibility":"Public","body":"prev = impl_memo_route(start)\nres = Array(Int32).new\nnow : Int32 | ::Nil = dest.to_i32\nwhile !now.nil?\n  res << now.not_nil!\n  now = prev[now]\nend\nres.reverse\n"}},{"html_id":"shortest_path_tree(start,directed:Bool=true):Array(Array(Int32))-instance-method","name":"shortest_path_tree","doc":"始点 `start` から最短路木を構築します。\n\n最短路木は `start` からの最短経路のみを残した全域木です。\n\n```\nroute = graph.shortest_path_route(start: 2, dest: 0)\nroute # => [2, 7, 1, 0]\n```","summary":"<p>始点 <code>start</code> から最短路木を構築します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":""},{"name":"directed","default_value":"true","external_name":"directed","restriction":"Bool"}],"args_string":"(start, directed : Bool = true) : Array(Array(Int32))","args_html":"(start, directed : Bool = <span class=\"n\">true</span>) : Array(Array(Int32))","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":167,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L167"},"def":{"name":"shortest_path_tree","args":[{"name":"start","external_name":"start","restriction":""},{"name":"directed","default_value":"true","external_name":"directed","restriction":"Bool"}],"return_type":"Array(Array(Int32))","visibility":"Public","body":"dist = [OO] * @size\ndist[start] = 0_i64\nnext_node = RadixHeap64(Int32).new\nnext_node.push(0_u64, start.to_i32)\nbirth = [-1] * @size\nwhile !next_node.empty?\n  d, source = next_node.pop\n  if dist[source] < d\n    next\n  end\n  @graph[source].each do |e|\n    next_cost = dist[source] + e.weight\n    if next_cost < dist[e.target]\n      dist[e.target] = next_cost\n      next_node.push(next_cost.to_u64, e.target)\n      birth[e.target] = source\n    end\n  end\nend\ntree = Array.new(@size) do\n  [] of Int32\nend\n@size.times do |target|\n  source = birth[target]\n  if source == -1\n    next\n  end\n  tree[source] << target\n  if directed\n  else\n    tree[target] << source\n  end\nend\ntree\n"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":65,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L65"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}],"types":[{"html_id":"nglib/NgLib/DijkstraGraph/Edge","path":"NgLib/DijkstraGraph/Edge.html","kind":"struct","full_name":"NgLib::DijkstraGraph::Edge(W)","name":"Edge","abstract":false,"superclass":{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":21,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L21"},{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L5"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib/DijkstraGraph","kind":"class","full_name":"NgLib::DijkstraGraph(Weight)","name":"DijkstraGraph"},"constructors":[{"html_id":"new(target:Int32,weight:UInt64)-class-method","name":"new","abstract":false,"args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"UInt64"}],"args_string":"(target : Int32, weight : UInt64)","args_html":"(target : Int32, weight : UInt64)","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L5"},"def":{"name":"new","args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"UInt64"}],"visibility":"Public","body":"_ = Edge(W).allocate\n_.initialize(target, weight)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(target:Int32,weight:W)-class-method","name":"new","abstract":false,"args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"W"}],"args_string":"(target : Int32, weight : W)","args_html":"(target : Int32, weight : W)","location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":21,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L21"},"def":{"name":"new","args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"W"}],"visibility":"Public","body":"_ = Edge(W).allocate\n_.initialize(target, weight)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L5"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@target.clone, @weight.clone)"}},{"html_id":"copy_with(target_target=@target,weight_weight=@weight)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_target","default_value":"@target","external_name":"target","restriction":""},{"name":"_weight","default_value":"@weight","external_name":"weight","restriction":""}],"args_string":"(target _target = @target, weight _weight = @weight)","args_html":"(target _target = @target, weight _weight = @weight)","location":{"filename":"src/nglib/graph/radix-dijkstra-graph.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/radix-dijkstra-graph.cr#L5"},"def":{"name":"copy_with","args":[{"name":"_target","default_value":"@target","external_name":"target","restriction":""},{"name":"_weight","default_value":"@weight","external_name":"weight","restriction":""}],"visibility":"Public","body":"self.class.new(_target, _weight)"}},{"html_id":"target:Int32-instance-method","name":"target","abstract":false,"def":{"name":"target","return_type":"Int32","visibility":"Public","body":"@target"}},{"html_id":"weight:UInt64-instance-method","name":"weight","abstract":false,"def":{"name":"weight","return_type":"UInt64","visibility":"Public","body":"@weight"}}]}]},{"html_id":"nglib/NgLib/Edge","path":"NgLib/Edge.html","kind":"struct","full_name":"NgLib::Edge","name":"Edge","abstract":false,"superclass":{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/weighted-edge.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/weighted-edge.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"class_methods":[{"html_id":"to-class-method","name":"to","abstract":false,"location":{"filename":"src/nglib/graph/weighted-edge.cr","line_number":9,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/weighted-edge.cr#L9"},"def":{"name":"to","visibility":"Public","body":"@data[0]"}},{"html_id":"weight-class-method","name":"weight","abstract":false,"location":{"filename":"src/nglib/graph/weighted-edge.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/weighted-edge.cr#L13"},"def":{"name":"weight","visibility":"Public","body":"@data[1]"}}],"constructors":[{"html_id":"new(t:Int64,w:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"Int64"},{"name":"w","external_name":"w","restriction":"Int64"}],"args_string":"(t : Int64, w : Int64)","args_html":"(t : Int64, w : Int64)","location":{"filename":"src/nglib/graph/weighted-edge.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/weighted-edge.cr#L5"},"def":{"name":"new","args":[{"name":"t","external_name":"t","restriction":"Int64"},{"name":"w","external_name":"w","restriction":"Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(t, w)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](i:Int)-instance-method","name":"[]","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"}],"args_string":"(i : Int)","args_html":"(i : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/weighted-edge.cr","line_number":17,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/weighted-edge.cr#L17"},"def":{"name":"[]","args":[{"name":"i","external_name":"i","restriction":"Int"}],"visibility":"Public","body":"@data[i]"}}]},{"html_id":"nglib/NgLib/Grid","path":"NgLib/Grid.html","kind":"class","full_name":"NgLib::Grid(T)","name":"Grid","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":16,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L16"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"DOWN","name":"DOWN","value":"{1, 0}"},{"id":"DYDX2","name":"DYDX2","value":"[DOWN, RIGHT]"},{"id":"DYDX4","name":"DYDX4","value":"[UP, LEFT, DOWN, RIGHT]"},{"id":"DYDX8","name":"DYDX8","value":"[UP, add(UP, RIGHT), RIGHT, add(DOWN, RIGHT), DOWN, add(DOWN, LEFT), LEFT, add(UP, LEFT)]"},{"id":"LEFT","name":"LEFT","value":"{0, -1}"},{"id":"RIGHT","name":"RIGHT","value":"{0, 1}"},{"id":"UP","name":"UP","value":"{-1, 0}"}],"included_modules":[{"html_id":"nglib/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"class_methods":[{"html_id":"add(v1:Tuple(Int,Int),v2:Tuple(Int,Int))-class-method","name":"add","abstract":false,"args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"args_string":"(v1 : Tuple(Int, Int), v2 : Tuple(Int, Int))","args_html":"(v1 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>), v2 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/nglib/grid/grid.cr","line_number":19,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L19"},"def":{"name":"add","args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"visibility":"Public","body":"{v1[0] + v2[0], v1[1] + v2[1]}"}},{"html_id":"dydx2(s:Array(Array(T)))-class-method","name":"dydx2","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"args_string":"(s : Array(Array(T)))","args_html":"(s : Array(Array(T)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":51,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L51"},"def":{"name":"dydx2","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"visibility":"Public","body":"new(s, DYDX2)"}},{"html_id":"dydx4(s:Array(Array(T)))-class-method","name":"dydx4","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"args_string":"(s : Array(Array(T)))","args_html":"(s : Array(Array(T)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":55,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L55"},"def":{"name":"dydx4","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"visibility":"Public","body":"new(s, DYDX4)"}},{"html_id":"dydx8(s:Array(Array(T)))-class-method","name":"dydx8","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"args_string":"(s : Array(Array(T)))","args_html":"(s : Array(Array(T)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":59,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L59"},"def":{"name":"dydx8","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"visibility":"Public","body":"new(s, DYDX8)"}},{"html_id":"sub(v1:Tuple(Int,Int),v2:Tuple(Int,Int))-class-method","name":"sub","abstract":false,"args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"args_string":"(v1 : Tuple(Int, Int), v2 : Tuple(Int, Int))","args_html":"(v1 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>), v2 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/nglib/grid/grid.cr","line_number":23,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L23"},"def":{"name":"sub","args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"visibility":"Public","body":"{v1[0] - v2[0], v1[1] - v2[1]}"}}],"constructors":[{"html_id":"new(s:Array(Array(T)),delta:Array(Tuple(Int32,Int32)))-class-method","name":"new","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"},{"name":"delta","external_name":"delta","restriction":"::Array(::Tuple(::Int32, ::Int32))"}],"args_string":"(s : Array(Array(T)), delta : Array(Tuple(Int32, Int32)))","args_html":"(s : Array(Array(T)), delta : Array(Tuple(Int32, Int32)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":63,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L63"},"def":{"name":"new","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"},{"name":"delta","external_name":"delta","restriction":"::Array(::Tuple(::Int32, ::Int32))"}],"visibility":"Public","body":"_ = Grid(T).allocate\n_.initialize(s, delta)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](y:Int,x:Int)-instance-method","name":"[]","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/grid/grid.cr","line_number":449,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L449"},"def":{"name":"[]","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"visibility":"Public","body":"@s[(y * @w) + x]"}},{"html_id":"[](pos:Tuple(Int,Int))-instance-method","name":"[]","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"}],"args_string":"(pos : Tuple(Int, Int))","args_html":"(pos : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/nglib/grid/grid.cr","line_number":445,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L445"},"def":{"name":"[]","args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"}],"visibility":"Public","body":"self[pos[0], pos[1]]"}},{"html_id":"[]=(y:Int,x:Int,c:T)-instance-method","name":"[]=","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"c","external_name":"c","restriction":"T"}],"args_string":"(y : Int, x : Int, c : T)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, c : T)","location":{"filename":"src/nglib/grid/grid.cr","line_number":457,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L457"},"def":{"name":"[]=","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"c","external_name":"c","restriction":"T"}],"visibility":"Public","body":"@s[(y * @w) + x] = c"}},{"html_id":"[]=(pos:Tuple(Int,Int),c:T)-instance-method","name":"[]=","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"},{"name":"c","external_name":"c","restriction":"T"}],"args_string":"(pos : Tuple(Int, Int), c : T)","args_html":"(pos : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>), c : T)","location":{"filename":"src/nglib/grid/grid.cr","line_number":453,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L453"},"def":{"name":"[]=","args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"},{"name":"c","external_name":"c","restriction":"T"}],"visibility":"Public","body":"self[pos[0], pos[1]] = c"}},{"html_id":"barred?(y:Int,x:Int):Bool-instance-method","name":"barred?","doc":"位置 $(y, x)$ が進入禁止なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars\n]\n\ngrid.barred?(0, 0) # => false\ngrid.barred?(1, 1) # => true\n```","summary":"<p>位置 $(y, x)$ が進入禁止なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int) : Bool","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":122,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L122"},"def":{"name":"barred?","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"return_type":"Bool","visibility":"Public","body":"(over?(y, x)) || (self[y, x] == @bar)"}},{"html_id":"barred?(pos):Bool-instance-method","name":"barred?","doc":"位置 `pos` が進入禁止なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars\n]\n\ngrid.barred?({0, 0}) # => false\ngrid.barred?({1, 1}) # => true\n```","summary":"<p>位置 <code>pos</code> が進入禁止なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":""}],"args_string":"(pos) : Bool","args_html":"(pos) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":106,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L106"},"def":{"name":"barred?","args":[{"name":"pos","external_name":"pos","restriction":""}],"return_type":"Bool","visibility":"Public","body":"barred?(pos[0], pos[1])"}},{"html_id":"delta:Array(Pos)-instance-method","name":"delta","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":47,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L47"},"def":{"name":"delta","return_type":"Array(Pos)","visibility":"Public","body":"@delta"}},{"html_id":"each(&:T->)-instance-method","name":"each","doc":"グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。\n\n```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars,\n]\ngrid = Grid(Char).new(s)\ngird.each { |c| puts c } # => '.', '.', '#', '.', ..., '.'\n```","summary":"<p>グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":315,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L315"},"def":{"name":"each","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(T ->)"},"visibility":"Public","body":"i = 0\nwhile i < h\n  j = 0\n  while j < w\n    yield self[i, j]\n    j = j + 1\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_neighbor(y:Int,x:Int,&)-instance-method","name":"each_neighbor","doc":"位置 $(y, x)$ の近傍で、侵入可能な位置を列挙します。\n\n```\ngrid = Grid.dydx([\".#.\", \"...\", \"...\"])\n\ngrid.each_neighbor(1, 1) do |ny, nx|\nend\n```","summary":"<p>位置 $(y, x)$ の近傍で、侵入可能な位置を列挙します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int, &)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, &)","location":{"filename":"src/nglib/grid/grid.cr","line_number":392,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L392"},"def":{"name":"each_neighbor","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"yields":2,"block_arity":2,"visibility":"Public","body":"i = 0\nwhile i < @delta.size\n  ny = y + @delta[i][0]\n  nx = x + @delta[i][1]\n  if free?(ny, nx)\n    yield ny, nx\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_neighbor_with_direction(y:Int,x:Int,&)-instance-method","name":"each_neighbor_with_direction","doc":"位置 $(y, x)$ の近傍で、侵入可能な位置を方向とともに列挙します。\n\n```\ngrid = Grid.dydx4([\".#.\", \"...\", \"...\"])\n\ngrid.each_neighbor(1, 1) do |ny, nx, dir|\nend\n```","summary":"<p>位置 $(y, x)$ の近傍で、侵入可能な位置を方向とともに列挙します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int, &)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, &)","location":{"filename":"src/nglib/grid/grid.cr","line_number":410,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L410"},"def":{"name":"each_neighbor_with_direction","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"yields":3,"block_arity":3,"visibility":"Public","body":"i = 0\nwhile i < @delta.size\n  ny = y + @delta[i][0]\n  nx = x + @delta[i][1]\n  if free?(ny, nx)\n    yield ny, nx, i\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_with_coord(&)-instance-method","name":"each_with_coord","doc":"グリッドの値を $(0, 0)$ から $(H, W)$ まで順に座標付きで列挙します。\n\n```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars\n]\ngrid = Grid(Char).new(s)\ngird.each { |c, (i, j)| puts c, {i, j} }\n```","summary":"<p>グリッドの値を $(0, 0)$ から $(H, W)$ まで順に座標付きで列挙します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":353,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L353"},"def":{"name":"each_with_coord","yields":2,"block_arity":2,"visibility":"Public","body":"i = 0\nwhile i < h\n  j = 0\n  while j < w\n    yield self[i, j], {i, j}\n    j = j + 1\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_with_index(&)-instance-method","name":"each_with_index","doc":"グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。\n\nindex は $Wi + j$ を返します。通常は `each_with_coord` を利用することを推奨します。","summary":"<p>グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":330,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L330"},"def":{"name":"each_with_index","yields":2,"block_arity":2,"visibility":"Public","body":"i = 0\nwhile i < h\n  j = 0\n  while j < w\n    yield self[i, j], (w * i) + j\n    j = j + 1\n  end\n  i = i + 1\nend\n"}},{"html_id":"fetch(y:Int,x:Int,default:T)-instance-method","name":"fetch","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"default","external_name":"default","restriction":"T"}],"args_string":"(y : Int, x : Int, default : T)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, default : T)","location":{"filename":"src/nglib/grid/grid.cr","line_number":420,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L420"},"def":{"name":"fetch","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"default","external_name":"default","restriction":"T"}],"visibility":"Public","body":"over?(y, x) ? default : self[y, x]"}},{"html_id":"free?(y:Int,x:Int):Bool-instance-method","name":"free?","doc":"位置 $(y, x)$ が通行可能なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars\n]\n\ngrid.free?(0, 0) # => true\ngrid.free?(1, 1) # => false\n```","summary":"<p>位置 $(y, x)$ が通行可能なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int) : Bool","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":154,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L154"},"def":{"name":"free?","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"return_type":"Bool","visibility":"Public","body":"!(barred?(y, x))"}},{"html_id":"free?(pos):Bool-instance-method","name":"free?","doc":"位置 `pos` が通行可能なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars\n]\n\ngrid.free?({0, 0}) # => true\ngrid.free?({1, 1}) # => false\n```","summary":"<p>位置 <code>pos</code> が通行可能なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":""}],"args_string":"(pos) : Bool","args_html":"(pos) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":138,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L138"},"def":{"name":"free?","args":[{"name":"pos","external_name":"pos","restriction":""}],"return_type":"Bool","visibility":"Public","body":"!(barred?(pos))"}},{"html_id":"h:Int32-instance-method","name":"h","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":46,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L46"},"def":{"name":"h","return_type":"Int32","visibility":"Public","body":"@h"}},{"html_id":"index(&:T->):Tuple(Int32,Int32)|Nil-instance-method","name":"index","doc":"Returns the index of the first element for which the passed block is truthy.\n\n```\n[\"Alice\", \"Bob\"].index { |name| name.size < 4 } # => 1 (Bob's index)\n```\n\nReturns `nil` if the block is not truthy for any element.","summary":"<p>Returns the index of the first element for which the passed block is truthy.</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":365,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L365"},"def":{"name":"index","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(T ->)"},"return_type":"::Tuple(Int32, Int32) | ::Nil","visibility":"Public","body":"each_with_coord do |c, __arg3|\n  i = __arg3[0]\n  j = __arg3[1]\n  if yield c\n    return {i, j}\n  end\nend\nnil\n"}},{"html_id":"index(obj):Tuple(Int32,Int32)|Nil-instance-method","name":"index","doc":"Returns the first index of *obj* in the collection.\n\n```\n[\"Alice\", \"Bob\"].index(\"Alice\") # => 0\n```\n\nReturns `nil` if *obj* is not in the collection.","summary":"<p>Returns the first index of <em>obj</em> in the collection.</p>","abstract":false,"args":[{"name":"obj","external_name":"obj","restriction":""}],"args_string":"(obj) : Tuple(Int32, Int32) | Nil","args_html":"(obj) : Tuple(Int32, Int32) | Nil","location":{"filename":"src/nglib/grid/grid.cr","line_number":372,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L372"},"def":{"name":"index","args":[{"name":"obj","external_name":"obj","restriction":""}],"return_type":"::Tuple(Int32, Int32) | ::Nil","visibility":"Public","body":"index do |c|\n  c == obj\nend"}},{"html_id":"index!(&:T->):Tuple(Int32,Int32)-instance-method","name":"index!","doc":"Returns the index of the first element for which the passed block is truthy.\n\n```\n[\"Alice\", \"Bob\"].index! { |name| name.size < 4 } # => 1 (Bob's index)\n```\n\nRaises `Enumerable::NotFoundError` if there is no element for which the block is truthy.","summary":"<p>Returns the index of the first element for which the passed block is truthy.</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":376,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L376"},"def":{"name":"index!","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(T ->)"},"return_type":"::Tuple(Int32, Int32)","visibility":"Public","body":"index do |c|\n  yield c\nend || (raise(Exception.new(\"Not found.\")))"}},{"html_id":"index!(obj):Tuple(Int32,Int32)|Nil-instance-method","name":"index!","doc":"Returns the first index of *obj* in the collection.\n\n```\n[\"Alice\", \"Bob\"].index!(\"Alice\") # => 0\n```\n\nRaises `Enumerable::NotFoundError` if *obj* is not in the collection.","summary":"<p>Returns the first index of <em>obj</em> in the collection.</p>","abstract":false,"args":[{"name":"obj","external_name":"obj","restriction":""}],"args_string":"(obj) : Tuple(Int32, Int32) | Nil","args_html":"(obj) : Tuple(Int32, Int32) | Nil","location":{"filename":"src/nglib/grid/grid.cr","line_number":380,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L380"},"def":{"name":"index!","args":[{"name":"obj","external_name":"obj","restriction":""}],"return_type":"::Tuple(Int32, Int32) | ::Nil","visibility":"Public","body":"index! do |c|\n  c == obj\nend"}},{"html_id":"label_grid-instance-method","name":"label_grid","doc":"連結する free および bar を塗り分けたグリッドを返します。\nfree のマスは非負整数の連番でラベル付けされ、bar は負の連番でラベル付けされます。\n`label_grid.max` は `(島の数 - 1)` を返すことに注意してください。\nTODO: よりよい命名を考える\n```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars,\n]\ngrid = Grid(Char).new(s)\ngrid.label_grid # => [[0, 0, -1], [0, -2, 1], [-2, -2, 1]]\n```","summary":"<p>連結する free および bar を塗り分けたグリッドを返します。 free のマスは非負整数の連番でラベル付けされ、bar は負の連番でラベル付けされます。 <code>label_grid.max</code> は <code>(島の数 - 1)</code> を返すことに注意してください。 TODO: よりよい命名を考える <code>s = [ &quot;..#&quot;.chars, &quot;.#.&quot;.chars, &quot;##.&quot;.chars, ] grid = <a href=\"../NgLib/Grid.html\">Grid</a>(<a href=\"../Char.html\">Char</a>).new(s) grid.label_grid # =&gt; [[0, 0, -1], [0, -2, 1], [-2, -2, 1]]</code></p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":266,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L266"},"def":{"name":"label_grid","visibility":"Public","body":"table = Array.new(@h) do\n  [nil.as(Int32 | ::Nil)] * @w\nend\nfree_index, bar_index = 0, -1\n@h.times do |i|\n  @w.times do |j|\n    if table[i][j].nil?\n    else\n      next\n    end\n    label = 0\n    is_bar = barred?(i, j)\n    if is_bar\n      label = bar_index\n      bar_index = bar_index - 1\n    else\n      label = free_index\n      free_index = free_index + 1\n    end\n    queue = Deque(::Tuple(Int32, Int32)).new([{i, j}])\n    table[i][j] = label\n    while !queue.empty?\n      y, x = queue.shift\n      @delta.each do |__arg1|\n        dy = __arg1[0]\n        dx = __arg1[1]\n        ny = y + dy\n        nx = x + dx\n        if over?(ny, nx)\n          next\n        end\n        if table[ny][nx].nil?\n        else\n          next\n        end\n        if is_bar ^ (barred?(ny, nx))\n          next\n        end\n        table[ny][nx] = label\n        queue << {ny, nx}\n      end\n    end\n  end\nend\nGrid(Int32).new(table.map do |line|\n  line.map(&.not_nil!)\nend, @delta)\n"}},{"html_id":"over?(y,x):Bool-instance-method","name":"over?","doc":"位置 $(y, x)$ がグリッドの範囲外なら `true` を返します。\n\n```\ngrid.over?(-1, 0)          # => true\ngrid.over?(h + 10, w + 10) # => true\ngrid.over?(0, 0)           # => false\n```","summary":"<p>位置 $(y, x)$ がグリッドの範囲外なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":""},{"name":"x","external_name":"x","restriction":""}],"args_string":"(y, x) : Bool","args_html":"(y, x) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":90,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L90"},"def":{"name":"over?","args":[{"name":"y","external_name":"y","restriction":""},{"name":"x","external_name":"x","restriction":""}],"return_type":"Bool","visibility":"Public","body":"((y < 0 || y >= @h) || x < 0) || x >= @w"}},{"html_id":"over?(pos):Bool-instance-method","name":"over?","doc":"位置 `pos` がグリッドの範囲外なら `true` を返します。\n\n```\ngrid.over?({-1, 0})          # => true\ngrid.over?({h + 10, w + 10}) # => true\ngrid.over?({0, 0})           # => false\n```","summary":"<p>位置 <code>pos</code> がグリッドの範囲外なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":""}],"args_string":"(pos) : Bool","args_html":"(pos) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":78,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L78"},"def":{"name":"over?","args":[{"name":"pos","external_name":"pos","restriction":""}],"return_type":"Bool","visibility":"Public","body":"over?(pos[0], pos[1])"}},{"html_id":"shortest_path(start:Tuple,dest:Tuple):Int64-instance-method","name":"shortest_path","doc":"始点 $(si, sj)$ から終点 $(gi, gj)$ への最短経路長を返します。\n\n```\ndist = grid.shortest_path(start: {si, sj})\ndist[gi][gj] # => 4\n```","summary":"<p>始点 $(si, sj)$ から終点 $(gi, gj)$ への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Tuple"},{"name":"dest","external_name":"dest","restriction":"Tuple"}],"args_string":"(start : Tuple, dest : Tuple) : Int64","args_html":"(start : Tuple, dest : Tuple) : Int64","location":{"filename":"src/nglib/grid/grid.cr","line_number":199,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L199"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Tuple"},{"name":"dest","external_name":"dest","restriction":"Tuple"}],"return_type":"Int64","visibility":"Public","body":"(shortest_path(start))[dest[0]][dest[1]]"}},{"html_id":"shortest_path(start:Tuple):Array(Array(Int64))-instance-method","name":"shortest_path","doc":"始点 $(si, sj)$ から各マスへの最短経路長を返します。\n\n```\ndist = grid.shortest_path(start: {si, sj})\ndist[gi][gj] # => 4\n```","summary":"<p>始点 $(si, sj)$ から各マスへの最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Tuple"}],"args_string":"(start : Tuple) : Array(Array(Int64))","args_html":"(start : Tuple) : Array(Array(Int64))","location":{"filename":"src/nglib/grid/grid.cr","line_number":178,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L178"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Tuple"}],"return_type":"Array(Array(Int64))","visibility":"Public","body":"queue = Deque.new([start])\ndist = Array.new(@h) do\n  Array.new(@w) do\n    OO\n  end\nend\ndist[start[0]][start[1]] = 0\nwhile !queue.empty?\n  i, j = queue.shift\n  each_neighbor(i, j) do |ni, nj|\n    if dist[ni][nj] != OO\n      next\n    end\n    dist[ni][nj] = dist[i][j] + 1\n    queue << {ni, nj}\n  end\nend\ndist\n"}},{"html_id":"shortest_path:Array(Array(Int64))-instance-method","name":"shortest_path","doc":"全マス間の最短経路長を返します。\n\n```\ndist = grid.shortest_path\ndist[si][sj][gi][gj] # => 4\n```","summary":"<p>全マス間の最短経路長を返します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":164,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L164"},"def":{"name":"shortest_path","return_type":"Array(Array(Int64))","visibility":"Public","body":"Array.new(@h) do |si|\n  Array.new(@w) do |sj|\n    shortest_path(si, sj)\n  end\nend"}},{"html_id":"to_a:Array(Array(T))-instance-method","name":"to_a","doc":"Returns an `Array` with all the elements in the collection.\n\n```\n(1..5).to_a # => [1, 2, 3, 4, 5]\n```","summary":"<p>Returns an <code>Array</code> with all the elements in the collection.</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":424,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L424"},"def":{"name":"to_a","return_type":"Array(Array(T))","visibility":"Public","body":"a = Array.new(@h) do\n  Array(T).new(@w)\nend\n@h.times do |i|\n  @w.times do |j|\n    a[i] << self[i, j]\n  end\nend\na\n"}},{"html_id":"to_graph(type=:connect_free):Array(Array(Int32))-instance-method","name":"to_graph","doc":"グリッドを隣接リスト形式で無向グラフに変換します。\n\nあるマス $(i, j)$ の頂点番号は $Wi + j$ となります。\n\n- `:connect_free` : free 同士を結びます（デフォルト）\n- `:connect_bar` : bar 同士を結びます\n- `:connect_same_type` : bar 同士、free 同士を結びます\n\n```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars,\n]\ngrid = Grid(Char).new(s)\ngrid.to_graph # => [[3, 1], [0], [1, 5], [0], [1, 3, 5], [8], [3], [8], [5]]\n```","summary":"<p>グリッドを隣接リスト形式で無向グラフに変換します。</p>","abstract":false,"args":[{"name":"type","default_value":":connect_free","external_name":"type","restriction":""}],"args_string":"(type = :connect_free) : Array(Array(Int32))","args_html":"(type = <span class=\"n\">:connect_free</span>) : Array(Array(Int32))","location":{"filename":"src/nglib/grid/grid.cr","line_number":220,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L220"},"def":{"name":"to_graph","args":[{"name":"type","default_value":":connect_free","external_name":"type","restriction":""}],"return_type":"Array(Array(Int32))","visibility":"Public","body":"graph = Array.new(@w * @h) do\n  [] of Int32\nend\n@h.times do |i|\n  @w.times do |j|\n    node = (@w * i) + j\n    @delta.each do |__arg0|\n      di = __arg0[0]\n      dj = __arg0[1]\n      ni = i + di\n      nj = j + dj\n      if over?(ni, nj)\n        next\n      end\n      node2 = (@w * ni) + nj\n      both_frees = (free?(i, j)) & (free?(ni, nj))\n      both_bars = (barred?(i, j)) & (barred?(ni, nj))\n      case type\n      when :connect_free\n        if both_frees\n          graph[node] << node2\n        end\n      when :connect_bar\n        if both_bars\n          graph[node] << node2\n        end\n      when :connect_same_type\n        if both_frees || both_bars\n          graph[node] << node2\n        end\n      end\n    end\n  end\nend\ngraph\n"}},{"html_id":"to_s(io:IO)-instance-method","name":"to_s","doc":"Appends a short String representation of this object\nwhich includes its class name and its object address.\n\n```\nclass Person\n  def initialize(@name : String, @age : Int32)\n  end\nend\n\nPerson.new(\"John\", 32).to_s # => #<Person:0x10a199f20>\n```","summary":"<p>Appends a short String representation of this object which includes its class name and its object address.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/nglib/grid/grid.cr","line_number":434,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L434"},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"@h.times do |i|\n  @w.times do |j|\n    if j != 0\n      io << ' '\n    end\n    io << self[i, j]\n  end\n  io << '\\n'\nend\nio\n"}},{"html_id":"w:Int32-instance-method","name":"w","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":46,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L46"},"def":{"name":"w","return_type":"Int32","visibility":"Public","body":"@w"}}],"types":[{"html_id":"nglib/NgLib/Grid/Pos","path":"NgLib/Grid/Pos.html","kind":"alias","full_name":"NgLib::Grid::Pos","name":"Pos","abstract":false,"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":45,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/grid/grid.cr#L45"}],"repository_name":"nglib","program":false,"enum":false,"alias":true,"aliased":"Tuple(Int32, Int32)","aliased_html":"{Int32, Int32}","const":false,"namespace":{"html_id":"nglib/NgLib/Grid","kind":"class","full_name":"NgLib::Grid(T)","name":"Grid"}}]},{"html_id":"nglib/NgLib/LCA","path":"NgLib/LCA.html","kind":"class","full_name":"NgLib::LCA","name":"LCA","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/lca.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(graph:Graph,root=0_i64)-class-method","name":"new","doc":"木構造グラフ `graph` に対して、`root` を根とする LCA を構築します。","summary":"<p>木構造グラフ <code>graph</code> に対して、<code>root</code> を根とする LCA を構築します。</p>","abstract":false,"args":[{"name":"graph","external_name":"graph","restriction":"Graph"},{"name":"root","default_value":"0_i64","external_name":"root","restriction":""}],"args_string":"(graph : Graph, root = 0_i64)","args_html":"(graph : <a href=\"../NgLib/LCA/Graph.html\">Graph</a>, root = <span class=\"n\">0_i64</span>)","location":{"filename":"src/nglib/graph/lca.cr","line_number":11,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L11"},"def":{"name":"new","args":[{"name":"graph","external_name":"graph","restriction":"Graph"},{"name":"root","default_value":"0_i64","external_name":"root","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(graph, root)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"ancestor(u:Int,v:Int):Int64-instance-method","name":"ancestor","doc":"頂点 $u$ と 頂点 $v$ の最近共通祖先を返します。","summary":"<p>頂点 $u$ と 頂点 $v$ の最近共通祖先を返します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"args_string":"(u : Int, v : Int) : Int64","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>) : Int64","location":{"filename":"src/nglib/graph/lca.cr","line_number":33,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L33"},"def":{"name":"ancestor","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"return_type":"Int64","visibility":"Public","body":"if @dist[u] < @dist[v]\n  u, v = v, u\nend\nn = @parent.size\nn.times do |k|\n  if ((dist[u] - dist[v]).bit(k)) == 1\n    u = @parent[k][u]\n  end\nend\nif u == v\n  return u\nend\n(n - 1).downto(0) do |k|\n  if @parent[k][u] != @parent[k][v]\n    u, v = @parent[k][u], @parent[k][v]\n  end\nend\n@parent[0][u]\n"}},{"html_id":"dist:Array(Int64)-instance-method","name":"dist","abstract":false,"location":{"filename":"src/nglib/graph/lca.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L7"},"def":{"name":"dist","return_type":"Array(Int64)","visibility":"Public","body":"@dist"}},{"html_id":"distance_between(u:Int,v:Int):Int64-instance-method","name":"distance_between","doc":"頂点 $u$ と頂点 $v$ の距離を返します。","summary":"<p>頂点 $u$ と頂点 $v$ の距離を返します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"args_string":"(u : Int, v : Int) : Int64","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>) : Int64","location":{"filename":"src/nglib/graph/lca.cr","line_number":51,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L51"},"def":{"name":"distance_between","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"return_type":"Int64","visibility":"Public","body":"(dist[u] + dist[v]) - (dist[ancestor(u, v)] * 2)"}},{"html_id":"on_path?(u:Int,v:Int,a:Int):Bool-instance-method","name":"on_path?","doc":"頂点 $u$ から頂点 $v$ までのパスに頂点 $a$ が含まれているか返します。","summary":"<p>頂点 $u$ から頂点 $v$ までのパスに頂点 $a$ が含まれているか返します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"a","external_name":"a","restriction":"Int"}],"args_string":"(u : Int, v : Int, a : Int) : Bool","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, a : <a href=\"../Int.html\">Int</a>) : Bool","location":{"filename":"src/nglib/graph/lca.cr","line_number":56,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L56"},"def":{"name":"on_path?","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"a","external_name":"a","restriction":"Int"}],"return_type":"Bool","visibility":"Public","body":"((distance_between(u, a)) + (distance_between(a, v))) == (distance_between(u, v))"}},{"html_id":"parent:Array(Array(Int64))-instance-method","name":"parent","abstract":false,"location":{"filename":"src/nglib/graph/lca.cr","line_number":6,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L6"},"def":{"name":"parent","return_type":"Array(Array(Int64))","visibility":"Public","body":"@parent"}}],"types":[{"html_id":"nglib/NgLib/LCA/Graph","path":"NgLib/LCA/Graph.html","kind":"alias","full_name":"NgLib::LCA::Graph","name":"Graph","abstract":false,"locations":[{"filename":"src/nglib/graph/lca.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/lca.cr#L5"}],"repository_name":"nglib","program":false,"enum":false,"alias":true,"aliased":"Array(Array(Int64))","aliased_html":"Array(Array(Int64))","const":false,"namespace":{"html_id":"nglib/NgLib/LCA","kind":"class","full_name":"NgLib::LCA","name":"LCA"}}]},{"html_id":"nglib/NgLib/StaticRangeSum","path":"NgLib/StaticRangeSum.html","kind":"class","full_name":"NgLib::StaticRangeSum(T)","name":"StaticRangeSum","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(array:Array(T))-class-method","name":"new","doc":"配列 `array` に対して累積和を構築します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\n```","summary":"<p>配列 <code>array</code> に対して累積和を構築します。</p>","abstract":false,"args":[{"name":"array","external_name":"array","restriction":"Array(T)"}],"args_string":"(array : Array(T))","args_html":"(array : Array(T))","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L12"},"def":{"name":"new","args":[{"name":"array","external_name":"array","restriction":"Array(T)"}],"visibility":"Public","body":"_ = StaticRangeSum(T).allocate\n_.initialize(array)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](l,r):T-instance-method","name":"[]","doc":"`get(l : Int, r : Int)` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%28l%2Cr%29%3AT-instance-method\">#get(l : Int, r : Int)</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":84,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L84"},"def":{"name":"[]","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"get(l, r)"}},{"html_id":"[](range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"[]","doc":"`get(range : Range(Int?, Int?))` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%28l%2Cr%29%3AT-instance-method\">#get(range : Range(Int?, Int?))</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":89,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L89"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"get(range)"}},{"html_id":"[]?(l,r):T|Nil-instance-method","name":"[]?","doc":"`get(l : Int, r : Int)` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%28l%2Cr%29%3AT-instance-method\">#get(l : Int, r : Int)</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T | Nil","args_html":"(l, r) : T | Nil","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":94,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L94"},"def":{"name":"[]?","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(l, r)"}},{"html_id":"[]?(range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"[]?","doc":"`get?(range : Range(Int?, Int?))` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%3F%28l%2Cr%29%3AT%7CNil-instance-method\">#get?(range : Range(Int?, Int?))</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":99,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L99"},"def":{"name":"[]?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(range)"}},{"html_id":"csum:Array(T)-instance-method","name":"csum","abstract":false,"location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L4"},"def":{"name":"csum","return_type":"Array(T)","visibility":"Public","body":"@csum"}},{"html_id":"get(l,r):T-instance-method","name":"get","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":25,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L25"},"def":{"name":"get","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"if l <= r\nelse\n  raise(IndexError.new(\"`l` must be less than or equal to `r` (#{l}, #{r})\"))\nend\n@csum[r] - @csum[l]\n"}},{"html_id":"get(range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":31,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L31"},"def":{"name":"get","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nget(l, r)\n"}},{"html_id":"get!(l,r):T-instance-method","name":"get!","doc":"$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。","summary":"<p>$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":68,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L68"},"def":{"name":"get!","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"@csum[r] - @csum[l]"}},{"html_id":"get!(range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get!","doc":"$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。","summary":"<p>$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":73,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L73"},"def":{"name":"get!","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nget!(l, r)\n"}},{"html_id":"get?(l,r):T|Nil-instance-method","name":"get?","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n$l \\leq r$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.get?(7...5) # => nil\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T | Nil","args_html":"(l, r) : T | Nil","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":51,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L51"},"def":{"name":"get?","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"if l <= r\nelse\n  return nil\nend\nget(l, r)\n"}},{"html_id":"get?(range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"get?","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n$l \\leq r$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.get?(7...5) # => nil\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":57,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L57"},"def":{"name":"get?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nget?(l, r)\n"}},{"html_id":"size:Int64-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/data-structure/static-range-sum.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/data-structure/static-range-sum.cr#L3"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}}]},{"html_id":"nglib/NgLib/Weight","path":"NgLib/Weight.html","kind":"struct","full_name":"NgLib::Weight","name":"Weight","abstract":true,"superclass":{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"}],"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"inf:self-class-method","name":"inf","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":10,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L10"},"def":{"name":"inf","return_type":"self","visibility":"Public","body":""}},{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L4"},"def":{"name":"new","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}},{"html_id":"zero:self-class-method","name":"zero","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L7"},"def":{"name":"zero","return_type":"self","visibility":"Public","body":""}}],"instance_methods":[{"html_id":"+(other:self)-instance-method","name":"+","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self)","args_html":"(other : <span class=\"k\">self</span>)","location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L13"},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":"self"}],"visibility":"Public","body":""}},{"html_id":"<=>(other:self)-instance-method","name":"<=>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self)","args_html":"(other : <span class=\"k\">self</span>)","location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":16,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L16"},"def":{"name":"<=>","args":[{"name":"other","external_name":"other","restriction":"self"}],"visibility":"Public","body":""}},{"html_id":"initialize-instance-method","name":"initialize","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra-graph.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/f6be20590419e2bf5184619438404f13fa01bad3/src/nglib/graph/dijkstra-graph.cr#L4"},"def":{"name":"initialize","visibility":"Public","body":""}}]}]}]}}