crystal_doc_search_index_callback({"repository_name":"nglib","body":"# compe library for crystal\n\n[![Actions Status](https://github.com/ngng628/compe-library.cr/workflows/verify/badge.svg)](https://github.com/ngng628/compe-library.cr/actions) \n[![GitHub Pages](https://img.shields.io/static/v1?label=GitHub+Pages&message=+&color=brightgreen&logo=github)](https://ngng628.github.io/compe-library.cr/)\n[![License: CC0-1.0](https://img.shields.io/badge/License-CC0_1.0-lightgrey.svg)](http://creativecommons.org/publicdomain/zero/1.0/)\n\n\n\n## これはなに？\n競技プログラミング用の Crystal ライブラリです。\n\n[google/ac-library.cr](https://github.com/google/ac-library.cr) に依存しています。\n\nまた、Crystal のバージョンは `1.7` を想定しています。`0.33.0` だと動かないコードが一部あるので注意してください。\n\n\n## Link\n\n**Verify** : [https://ngng628.github.io/compe-library.cr/docs](https://ngng628.github.io/compe-library.cr/docs)\n\n**API Reference** : [https://ngng628.github.io/compe-library.cr/api](https://ngng628.github.io/compe-library.cr/api)\n","program":{"html_id":"nglib/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"nglib","program":true,"enum":false,"alias":false,"const":false,"constants":[{"id":"OO","name":"OO","value":"(1_i64 << 62) - (1_i64 << 31)"}],"class_methods":[{"html_id":"int(b=0)-class-method","name":"int","abstract":false,"args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"args_string":"(b = 0)","args_html":"(b = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/utils.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L1"},"def":{"name":"int","args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"visibility":"Public","body":"read_line.to_i64 + b"}},{"html_id":"ints(b=0)-class-method","name":"ints","abstract":false,"args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"args_string":"(b = 0)","args_html":"(b = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/utils.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L5"},"def":{"name":"ints","args":[{"name":"b","default_value":"0","external_name":"b","restriction":""}],"visibility":"Public","body":"read_line.split.map do |x|\n  x.to_i64 + b\nend"}},{"html_id":"str-class-method","name":"str","abstract":false,"location":{"filename":"src/nglib/utils/utils.cr","line_number":9,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L9"},"def":{"name":"str","visibility":"Public","body":"read_line.chomp"}}],"macros":[{"html_id":"chmax(a,b)-macro","name":"chmax","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/nglib/utils/utils.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L13"},"def":{"name":"chmax","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":" (\n{{ a }}\n < \n{{ b }}\n && (\n{{ a }}\n = \n{{ b }}\n))\n\n"}},{"html_id":"chmin(a,b)-macro","name":"chmin","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/nglib/utils/utils.cr","line_number":17,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L17"},"def":{"name":"chmin","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":" (\n{{ a }}\n > \n{{ b }}\n && (\n{{ a }}\n = \n{{ b }}\n))\n\n"}},{"html_id":"make_array(s,x)-macro","name":"make_array","abstract":false,"args":[{"name":"s","external_name":"s","restriction":""},{"name":"x","external_name":"x","restriction":""}],"args_string":"(s, x)","args_html":"(s, x)","location":{"filename":"src/nglib/utils/utils.cr","line_number":21,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L21"},"def":{"name":"make_array","args":[{"name":"s","external_name":"s","restriction":""},{"name":"x","external_name":"x","restriction":""}],"visibility":"Public","body":"  Array.new(\n{{ s[0] }}\n) \n{\n    \n{% if s[1..s.size].empty? %}; {{ x }}\n    {% else %}; make_array({{ s[1..s.size] }}, {{ x }}) {% end %}\n\n  }\n\n"}}],"types":[{"html_id":"nglib/Char","path":"Char.html","kind":"struct","full_name":"Char","name":"Char","abstract":false,"superclass":{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},"ancestors":[{"html_id":"nglib/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"},{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":9,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L9"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"}],"doc":"A `Char` represents a [Unicode](http://en.wikipedia.org/wiki/Unicode) [code point](http://en.wikipedia.org/wiki/Code_point).\nIt occupies 32 bits.\n\nIt is created by enclosing an UTF-8 character in single quotes.\n\n```\n'a'\n'z'\n'0'\n'_'\n'あ'\n```\n\nYou can use a backslash to denote some characters:\n\n```\n'\\'' # single quote\n'\\\\' # backslash\n'\\e' # escape\n'\\f' # form feed\n'\\n' # newline\n'\\r' # carriage return\n'\\t' # tab\n'\\v' # vertical tab\n```\n\nYou can use a backslash followed by an *u* and four hexadecimal characters to denote a unicode codepoint written:\n\n```\n'\\u0041' # == 'A'\n```\n\nOr you can use curly braces and specify up to four hexadecimal numbers:\n\n```\n'\\u{41}' # == 'A'\n```\n\nSee [`Char` literals](https://crystal-lang.org/reference/syntax_and_semantics/literals/char.html) in the language reference.","summary":"<p>A <code><a href=\"Char.html\">Char</a></code> represents a <a href=\"http://en.wikipedia.org/wiki/Unicode\">Unicode</a> <a href=\"http://en.wikipedia.org/wiki/Code_point\">code point</a>.</p>","class_methods":[{"html_id":"bar-class-method","name":"bar","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":10,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L10"},"def":{"name":"bar","visibility":"Public","body":"'#'"}}]},{"html_id":"nglib/Int","path":"Int.html","kind":"struct","full_name":"Int","name":"Int","abstract":true,"superclass":{"html_id":"nglib/Number","kind":"struct","full_name":"Number","name":"Number"},"ancestors":[{"html_id":"nglib/Number","kind":"struct","full_name":"Number","name":"Number"},{"html_id":"nglib/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"},{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L3"},{"filename":"src/nglib/utils/utils.cr","line_number":28,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L28"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"doc":"Int is the base type of all integer types.\n\nThere are four signed integer types: `Int8`, `Int16`, `Int32` and `Int64`,\nbeing able to represent numbers of 8, 16, 32 and 64 bits respectively.\nThere are four unsigned integer types: `UInt8`, `UInt16`, `UInt32` and `UInt64`.\n\nAn integer literal is an optional `+` or `-` sign, followed by\na sequence of digits and underscores, optionally followed by a suffix.\nIf no suffix is present, the literal's type is `Int32`, or `Int64` if the\nnumber doesn't fit into an `Int32`:\n\n```\n1 # Int32\n\n1_i8  # Int8\n1_i16 # Int16\n1_i32 # Int32\n1_i64 # Int64\n\n1_u8  # UInt8\n1_u16 # UInt16\n1_u32 # UInt32\n1_u64 # UInt64\n\n+10 # Int32\n-20 # Int32\n\n2147483648 # Int64\n```\n\nLiterals without a suffix that are larger than `Int64::MAX` represent a\n`UInt64` if the number fits, e.g. `9223372036854775808` and\n`0x80000000_00000000`. This behavior is deprecated and will become an error in\nthe future.\n\nThe underscore `_` before the suffix is optional.\n\nUnderscores can be used to make some numbers more readable:\n\n```\n1_000_000 # better than 1000000\n```\n\nBinary numbers start with `0b`:\n\n```\n0b1101 # == 13\n```\n\nOctal numbers start with `0o`:\n\n```\n0o123 # == 83\n```\n\nHexadecimal numbers start with `0x`:\n\n```\n0xFE012D # == 16646445\n0xfe012d # == 16646445\n```\n\nSee [`Integer` literals](https://crystal-lang.org/reference/syntax_and_semantics/literals/integers.html) in the language reference.","summary":"<p>Int is the base type of all integer types.</p>","class_methods":[{"html_id":"bar-class-method","name":"bar","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L4"},"def":{"name":"bar","visibility":"Public","body":"-1"}}],"instance_methods":[{"html_id":"div_ceil(other:Int)-instance-method","name":"div_ceil","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"Int"}],"args_string":"(other : Int)","args_html":"(other : <a href=\"Int.html\">Int</a>)","location":{"filename":"src/nglib/utils/utils.cr","line_number":29,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/utils.cr#L29"},"def":{"name":"div_ceil","args":[{"name":"other","external_name":"other","restriction":"Int"}],"visibility":"Public","body":"((self + other) - 1) // other"}}]},{"html_id":"nglib/NgLib","path":"NgLib.html","kind":"module","full_name":"NgLib","name":"NgLib","abstract":false,"locations":[{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L1"},{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L1"},{"filename":"src/nglib/data_structure/slide_minmax.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/slide_minmax.cr#L1"},{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L1"},{"filename":"src/nglib/data_structure/static_range_frequency.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_frequency.cr#L1"},{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L1"},{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L1"},{"filename":"src/nglib/graph/bfs.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L3"},{"filename":"src/nglib/graph/binary_bfs.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L3"},{"filename":"src/nglib/graph/dijkstra.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L3"},{"filename":"src/nglib/graph/lca.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L3"},{"filename":"src/nglib/graph/max_flow.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L1"},{"filename":"src/nglib/graph/mst.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L3"},{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L3"},{"filename":"src/nglib/graph/weighted_edge.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/weighted_edge.cr#L1"},{"filename":"src/nglib/grid/grid.cr","line_number":15,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L15"},{"filename":"src/nglib/string/rolling_hash.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L1"},{"filename":"src/nglib/utils/fastin.cr","line_number":1,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L1"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"types":[{"html_id":"nglib/NgLib/BfsGraph","path":"NgLib/BfsGraph.html","kind":"class","full_name":"NgLib::BfsGraph","name":"BfsGraph","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/bfs.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(n:Int)-class-method","name":"new","doc":"$n$ 頂点 $0$ 辺からなるグラフを作成します。\n\n```\ngraph = BfsGraph.new(n)\n```","summary":"<p>$n$ 頂点 $0$ 辺からなるグラフを作成します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"}],"args_string":"(n : Int)","args_html":"(n : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L13"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"}],"visibility":"Public","body":"_ = allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(u:Int,v:Int,directed:Bool=false)-instance-method","name":"add_edge","doc":"辺 $(u, v)$ を追加します。\n\n`directed` が `true` の場合、\n有向辺とみなして、$u$ から $v$ への辺のみ生やします。\n\n```\ngraph = BfsGraph.new(n)\ngraph.add_edge(u, v)                 # => (u) <---w---> (v)\ngraph.add_edge(u, v, directed: true) # => (u) ----w---> (v)\n```","summary":"<p>辺 $(u, v)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"args_string":"(u : Int, v : Int, directed : Bool = false)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, directed : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":28,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L28"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"visibility":"Public","body":"@graph[u.to_i32] << v.to_i32\nif directed\nelse\n  @graph[v.to_i32] << u.to_i32\nend\n"}},{"html_id":"graph:Array(Array(Int32))-instance-method","name":"graph","abstract":false,"location":{"filename":"src/nglib/graph/bfs.cr","line_number":6,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L6"},"def":{"name":"graph","return_type":"Array(Array(Int32))","visibility":"Public","body":"@graph"}},{"html_id":"shortest_path(start:Int,dest:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から終点 `dest` への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2, dest: 0)\ndist # => 12\n```","summary":"<p>始点 <code>start</code> から終点 <code>dest</code> への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"args_string":"(start : Int, dest : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>, dest : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":69,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L69"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"visibility":"Public","body":"(shortest_path(start))[dest]"}},{"html_id":"shortest_path(start:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から各頂点への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2)\ndist # => [3, 8, 0, 7, 1]\n```","summary":"<p>始点 <code>start</code> から各頂点への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"}],"args_string":"(start : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/bfs.cr","line_number":49,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L49"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"}],"visibility":"Public","body":"queue = Deque.new([start.to_i32])\ndist = Array.new(@size) do |i|\n  i == start ? 0_i64 : OO\nend\nwhile !queue.empty?\n  from = queue.shift\n  @graph[from].each do |to|\n    if dist[to] != OO\n      next\n    end\n    dist[to] = dist[from] + 1\n    queue << to\n  end\nend\ndist\n"}},{"html_id":"shortest_path-instance-method","name":"shortest_path","doc":"全点対間の最短経路長を返します。\n\n```\ndists = graph.shortest_path\ndists # => [[0, 1, 3], [1, 0, 2], [1, 1, 0]]\n```","summary":"<p>全点対間の最短経路長を返します。</p>","abstract":false,"location":{"filename":"src/nglib/graph/bfs.cr","line_number":39,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L39"},"def":{"name":"shortest_path","visibility":"Public","body":"(0...@size).map do |s|\n  shortest_path(s)\nend"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/graph/bfs.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/bfs.cr#L5"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}]},{"html_id":"nglib/NgLib/BinaryBfsGraph","path":"NgLib/BinaryBfsGraph.html","kind":"class","full_name":"NgLib::BinaryBfsGraph","name":"BinaryBfsGraph","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/binary_bfs.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(n:Int)-class-method","name":"new","doc":"$n$ 頂点 $0$ 辺からなるグラフを作成します。\n\n```\ngraph = BfsGraph.new(n)\n```","summary":"<p>$n$ 頂点 $0$ 辺からなるグラフを作成します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"}],"args_string":"(n : Int)","args_html":"(n : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/binary_bfs.cr","line_number":23,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L23"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"}],"visibility":"Public","body":"_ = allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(u:Int,v:Int,w:Int,directed:Bool=false)-instance-method","name":"add_edge","doc":"辺 $(u, v, w)$ を追加します。\n\n$w$ は $0$ または $1$ である必要があります。\n\n`directed` が `true` の場合、\n有向辺とみなして、$u$ から $v$ への辺のみ生やします。\n\n```\ngraph = BfsGraph.new(n)\ngraph.add_edge(u, v)                 # => (u) <---w---> (v)\ngraph.add_edge(u, v, directed: true) # => (u) ----w---> (v)\n```","summary":"<p>辺 $(u, v, w)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"args_string":"(u : Int, v : Int, w : Int, directed : Bool = false)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, w : <a href=\"../Int.html\">Int</a>, directed : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/nglib/graph/binary_bfs.cr","line_number":40,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L40"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"visibility":"Public","body":"if w.in?({0, 1})\nelse\n  raise(Exception.new(\"w should be 0 or 1\"))\nend\n@graph[u.to_i32] << (Edge.new(v, w))\nif directed\nelse\n  @graph[v.to_i32] << (Edge.new(u, w))\nend\n"}},{"html_id":"graph:Array(Array(Edge))-instance-method","name":"graph","abstract":false,"location":{"filename":"src/nglib/graph/binary_bfs.cr","line_number":16,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L16"},"def":{"name":"graph","return_type":"Array(Array(Edge))","visibility":"Public","body":"@graph"}},{"html_id":"shortest_path(start:Int,dest:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から終点 `dest` への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2, dest: 0)\ndist # => 12\n```","summary":"<p>始点 <code>start</code> から終点 <code>dest</code> への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"args_string":"(start : Int, dest : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>, dest : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/binary_bfs.cr","line_number":88,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L88"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"visibility":"Public","body":"(shortest_path(start))[dest]"}},{"html_id":"shortest_path(start:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から各頂点への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2)\ndist # => [3, 8, 0, 7, 1]\n```","summary":"<p>始点 <code>start</code> から各頂点への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"}],"args_string":"(start : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/binary_bfs.cr","line_number":62,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L62"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"}],"visibility":"Public","body":"deque = Deque.new([start.to_i32])\ndist = Array.new(@size) do |i|\n  i == start ? 0_i64 : OO\nend\nwhile !deque.empty?\n  from = deque.shift\n  @graph[from].each do |e|\n    d = dist[from] + e.weight\n    if d < dist[e.to]\n      dist[e.to] = d\n      if e.weight == 0\n        deque.unshift(e.to)\n      else\n        deque << e.to\n      end\n    end\n  end\nend\ndist\n"}},{"html_id":"shortest_path-instance-method","name":"shortest_path","doc":"全点対間の最短経路長を返します。\n\n```\ndists = graph.shortest_path\ndists # => [[0, 1, 3], [1, 0, 2], [1, 1, 0]]\n```","summary":"<p>全点対間の最短経路長を返します。</p>","abstract":false,"location":{"filename":"src/nglib/graph/binary_bfs.cr","line_number":52,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L52"},"def":{"name":"shortest_path","visibility":"Public","body":"(0...@size).map do |s|\n  shortest_path(s)\nend"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/graph/binary_bfs.cr","line_number":15,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/binary_bfs.cr#L15"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}]},{"html_id":"nglib/NgLib/DijkstraGraph","path":"NgLib/DijkstraGraph.html","kind":"class","full_name":"NgLib::DijkstraGraph(Weight)","name":"DijkstraGraph","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/dijkstra.cr","line_number":20,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L20"},{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(n:Int)-class-method","name":"new","doc":"$n$ 頂点 $0$ 辺からなるグラフを作成します。\n\n```\ngraph = Dijkstra.new(n)\n```","summary":"<p>$n$ 頂点 $0$ 辺からなるグラフを作成します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"}],"args_string":"(n : Int)","args_html":"(n : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":73,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L73"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"}],"visibility":"Public","body":"_ = DijkstraGraph(Weight).allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(u:Int,v:Int,w:Int,directed:Bool=false)-instance-method","name":"add_edge","doc":"非負整数の重み $w$ の辺 $(u, v)$ を追加します。\n\n`directed` が `true` の場合、\n有向辺とみなして、$u$ から $v$ への辺のみ生やします。\n\n```\ngraph = Dijkstra.new(n)\ngraph.add_edge(u, v, w)                 # => (u) <---w---> (v)\ngraph.add_edge(u, v, w, directed: true) # => (u) ----w---> (v)\n```","summary":"<p>非負整数の重み $w$ の辺 $(u, v)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"args_string":"(u : Int, v : Int, w : Int, directed : Bool = false)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, w : <a href=\"../Int.html\">Int</a>, directed : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":88,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L88"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"visibility":"Public","body":"@graph[u.to_i32] << (Edge.new(v.to_i32, w.to_u64))\nif directed\nelse\n  @graph[v.to_i32] << (Edge.new(u.to_i32, w.to_u64))\nend\n"}},{"html_id":"add_edge(u:Int,v:Int,w:Weight,directed:Bool=false)-instance-method","name":"add_edge","doc":"非負整数の重み $w$ の辺 $(u, v)$ を追加します。\n\n`directed` が `true` の場合、\n有向辺とみなして、$u$ から $v$ への辺のみ生やします。\n\n```\ngraph = Dijkstra.new(n)\ngraph.add_edge(u, v, w)                 # => (u) <---w---> (v)\ngraph.add_edge(u, v, w, directed: true) # => (u) ----w---> (v)\n```","summary":"<p>非負整数の重み $w$ の辺 $(u, v)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Weight"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"args_string":"(u : Int, v : Int, w : Weight, directed : Bool = false)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, w : Weight, directed : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":46,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L46"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Weight"},{"name":"directed","default_value":"false","external_name":"directed","restriction":"Bool"}],"visibility":"Public","body":"@graph[u.to_i32] << (Edge.new(v.to_i32, w))\nif directed\nelse\n  @graph[v.to_i32] << (Edge.new(u.to_i32, w))\nend\n"}},{"html_id":"shortest_path(start:Int,dest:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から終点 `dest` への最短経路長を返します。\n\n```\ndist = graph.shortest_path(start: 2, dest: 0)\ndist # => 12\n```","summary":"<p>始点 <code>start</code> から終点 <code>dest</code> への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"args_string":"(start : Int, dest : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>, dest : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":136,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L136"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"dest","external_name":"dest","restriction":"Int"}],"visibility":"Public","body":"(shortest_path(start))[dest]"}},{"html_id":"shortest_path(start:Int)-instance-method","name":"shortest_path","doc":"始点 `start` から各頂点への最短経路長を返します。\n\n```\ndist = graph.shortest_path(2)\ndist # => [3, 8, 0, 7, 1]\n```","summary":"<p>始点 <code>start</code> から各頂点への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"}],"args_string":"(start : Int)","args_html":"(start : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":109,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L109"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Int"}],"visibility":"Public","body":"dist = [OO] * @size\ndist[start] = 0_i64\nnext_node = RadixHeap64(Int32).new\nnext_node.push(0_u64, start.to_i32)\nwhile !next_node.empty?\n  d, source = next_node.pop\n  if dist[source] < d\n    next\n  end\n  @graph[source].each do |e|\n    next_cost = dist[source] + e.weight\n    if next_cost < dist[e.target]\n      dist[e.target] = next_cost\n      next_node.push(next_cost.to_u64, e.target)\n    end\n  end\nend\ndist\n"}},{"html_id":"shortest_path-instance-method","name":"shortest_path","doc":"全点対間の最短経路長を返します。\n\n```\ndists = graph.shortest_path\ndists # => [[0, 1, 3], [1, 0, 2], [1, 1, 0]]\n```","summary":"<p>全点対間の最短経路長を返します。</p>","abstract":false,"location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":99,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L99"},"def":{"name":"shortest_path","visibility":"Public","body":"(0...@size).map do |s|\n  shortest_path(s)\nend"}},{"html_id":"shortest_path_route(start,dest)-instance-method","name":"shortest_path_route","doc":"始点 `start` から終点 `dest` への最短経路の一例を返します。\n\n```\nroute = graph.shortest_path_route(start: 2, dest: 0)\nroute # => [2, 7, 1, 0]\n```","summary":"<p>始点 <code>start</code> から終点 <code>dest</code> への最短経路の一例を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":""},{"name":"dest","external_name":"dest","restriction":""}],"args_string":"(start, dest)","args_html":"(start, dest)","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":146,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L146"},"def":{"name":"shortest_path_route","args":[{"name":"start","external_name":"start","restriction":""},{"name":"dest","external_name":"dest","restriction":""}],"visibility":"Public","body":"prev = impl_memo_route(start)\nres = Array(Int32).new\nnow : Int32 | ::Nil = dest.to_i32\nwhile !now.nil?\n  res << now.not_nil!\n  now = prev[now]\nend\nres.reverse\n"}},{"html_id":"shortest_path_tree(start,directed:Bool=true):Array(Array(Int32))-instance-method","name":"shortest_path_tree","doc":"始点 `start` から最短路木を構築します。\n\n最短路木は `start` からの最短経路のみを残した全域木です。\n\n```\nroute = graph.shortest_path_route(start: 2, dest: 0)\nroute # => [2, 7, 1, 0]\n```","summary":"<p>始点 <code>start</code> から最短路木を構築します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":""},{"name":"directed","default_value":"true","external_name":"directed","restriction":"Bool"}],"args_string":"(start, directed : Bool = true) : Array(Array(Int32))","args_html":"(start, directed : Bool = <span class=\"n\">true</span>) : Array(Array(Int32))","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":167,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L167"},"def":{"name":"shortest_path_tree","args":[{"name":"start","external_name":"start","restriction":""},{"name":"directed","default_value":"true","external_name":"directed","restriction":"Bool"}],"return_type":"Array(Array(Int32))","visibility":"Public","body":"dist = [OO] * @size\ndist[start] = 0_i64\nnext_node = RadixHeap64(Int32).new\nnext_node.push(0_u64, start.to_i32)\nbirth = [-1] * @size\nwhile !next_node.empty?\n  d, source = next_node.pop\n  if dist[source] < d\n    next\n  end\n  @graph[source].each do |e|\n    next_cost = dist[source] + e.weight\n    if next_cost < dist[e.target]\n      dist[e.target] = next_cost\n      next_node.push(next_cost.to_u64, e.target)\n      birth[e.target] = source\n    end\n  end\nend\ntree = Array.new(@size) do\n  [] of Int32\nend\n@size.times do |target|\n  source = birth[target]\n  if source == -1\n    next\n  end\n  tree[source] << target\n  if directed\n  else\n    tree[target] << source\n  end\nend\ntree\n"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":65,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L65"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}],"types":[{"html_id":"nglib/NgLib/DijkstraGraph/Edge","path":"NgLib/DijkstraGraph/Edge.html","kind":"struct","full_name":"NgLib::DijkstraGraph::Edge(W)","name":"Edge","abstract":false,"superclass":{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/dijkstra.cr","line_number":21,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L21"},{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L5"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib/DijkstraGraph","kind":"class","full_name":"NgLib::DijkstraGraph(Weight)","name":"DijkstraGraph"},"constructors":[{"html_id":"new(target:Int32,weight:UInt64)-class-method","name":"new","abstract":false,"args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"UInt64"}],"args_string":"(target : Int32, weight : UInt64)","args_html":"(target : Int32, weight : UInt64)","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L5"},"def":{"name":"new","args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"UInt64"}],"visibility":"Public","body":"_ = Edge(W).allocate\n_.initialize(target, weight)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(target:Int32,weight:W)-class-method","name":"new","abstract":false,"args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"W"}],"args_string":"(target : Int32, weight : W)","args_html":"(target : Int32, weight : W)","location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":21,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L21"},"def":{"name":"new","args":[{"name":"target","external_name":"target","restriction":"Int32"},{"name":"weight","external_name":"weight","restriction":"W"}],"visibility":"Public","body":"_ = Edge(W).allocate\n_.initialize(target, weight)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L5"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@target.clone, @weight.clone)"}},{"html_id":"copy_with(target_target=@target,weight_weight=@weight)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_target","default_value":"@target","external_name":"target","restriction":""},{"name":"_weight","default_value":"@weight","external_name":"weight","restriction":""}],"args_string":"(target _target = @target, weight _weight = @weight)","args_html":"(target _target = @target, weight _weight = @weight)","location":{"filename":"src/nglib/graph/radix_dijkstra.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/radix_dijkstra.cr#L5"},"def":{"name":"copy_with","args":[{"name":"_target","default_value":"@target","external_name":"target","restriction":""},{"name":"_weight","default_value":"@weight","external_name":"weight","restriction":""}],"visibility":"Public","body":"self.class.new(_target, _weight)"}},{"html_id":"target:Int32-instance-method","name":"target","abstract":false,"def":{"name":"target","return_type":"Int32","visibility":"Public","body":"@target"}},{"html_id":"weight:UInt64-instance-method","name":"weight","abstract":false,"def":{"name":"weight","return_type":"UInt64","visibility":"Public","body":"@weight"}}]}]},{"html_id":"nglib/NgLib/DynamicRangeSum","path":"NgLib/DynamicRangeSum.html","kind":"class","full_name":"NgLib::DynamicRangeSum(T)","name":"DynamicRangeSum","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(n:Int,val:T)-class-method","name":"new","doc":"長さが $n$ で各要素が $val$ の数列 $a$ を構築します。","summary":"<p>長さが $n$ で各要素が $val$ の数列 $a$ を構築します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"args_string":"(n : Int, val : T)","args_html":"(n : <a href=\"../Int.html\">Int</a>, val : T)","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L13"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"visibility":"Public","body":"_ = DynamicRangeSum(T).allocate\n_.initialize(n, val)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(elems:Enumerable(T))-class-method","name":"new","doc":"長さが $n$ で $i$ 番目の要素が $elems_i$ の数列 $a$ を構築します。","summary":"<p>長さが $n$ で $i$ 番目の要素が $elems_i$ の数列 $a$ を構築します。</p>","abstract":false,"args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"args_string":"(elems : Enumerable(T))","args_html":"(elems : Enumerable(T))","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":19,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L19"},"def":{"name":"new","args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"visibility":"Public","body":"_ = DynamicRangeSum(T).allocate\n_.initialize(elems)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(n:Int)-class-method","name":"new","doc":"長さが $n$ で各要素が $0$ の数列 $a$ を構築します。","summary":"<p>長さが $n$ で各要素が $0$ の数列 $a$ を構築します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"}],"args_string":"(n : Int)","args_html":"(n : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L7"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"}],"visibility":"Public","body":"_ = DynamicRangeSum(T).allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](l,r):T-instance-method","name":"[]","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum[0, 5] # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":44,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L44"},"def":{"name":"[]","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"get(l, r)"}},{"html_id":"[](range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"[]","doc":"`range` の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum[0...5] # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p><code>range</code> の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":68,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L68"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = range.end ? range.end.not_nil! + (range.exclusive? ? 0 : 1) : @size\nget(l, r)\n"}},{"html_id":"[](i):T-instance-method","name":"[]","doc":"$a_i$ を $O(\\log{N})$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum[5] # => 8\n```","summary":"<p>$a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":""}],"args_string":"(i) : T","args_html":"(i) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":153,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L153"},"def":{"name":"[]","args":[{"name":"i","external_name":"i","restriction":""}],"return_type":"T","visibility":"Public","body":"get(i, i + 1)"}},{"html_id":"[]=(i:Int,x:T):T-instance-method","name":"[]=","doc":"$a_i$ の値を $x$ に更新します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum[0] = 100\ncsum.get?(0...5) # => 100 + 1 + 2 + 3 + 5 = 111\n```","summary":"<p>$a_i$ の値を $x$ に更新します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"x","external_name":"x","restriction":"T"}],"args_string":"(i : Int, x : T) : T","args_html":"(i : <a href=\"../Int.html\">Int</a>, x : T) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":194,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L194"},"def":{"name":"[]=","args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"x","external_name":"x","restriction":"T"}],"return_type":"T","visibility":"Public","body":"add(i, x - (get(i)))"}},{"html_id":"[]?(l,r):T|Nil-instance-method","name":"[]?","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。\n\n$0 \\leq l \\leq r \\leq n$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum[0, 5]? # => 1 + 1 + 2 + 3 + 5 = 12\ncsum[7, 3]? # => nil\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T | Nil","args_html":"(l, r) : T | Nil","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":99,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L99"},"def":{"name":"[]?","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(l, r)"}},{"html_id":"[]?(range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"[]?","doc":"`range` の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。\n\n$0 \\leq l \\leq r \\leq n$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum[0...5]? # => 1 + 1 + 2 + 3 + 5 = 12\ncsum[7...3]? # => nil\n```","summary":"<p><code>range</code> の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":129,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L129"},"def":{"name":"[]?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = range.end ? range.end.not_nil! + (range.exclusive? ? 0 : 1) : @size\nget?(l, r)\n"}},{"html_id":"[]?(i):T|Nil-instance-method","name":"[]?","doc":"$a_i$ を $O(\\log{N})$ で返します。\n\n$0 \\leq i \\lt n$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum[5]   # => 8\ncsum[10]? # => nil\n```","summary":"<p>$a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":""}],"args_string":"(i) : T | Nil","args_html":"(i) : T | Nil","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":181,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L181"},"def":{"name":"[]?","args":[{"name":"i","external_name":"i","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(i, i + 1)"}},{"html_id":"add(i:Int,x:T)-instance-method","name":"add","doc":"$a_i$ に $x$ を加算します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.add(0, 99)\ncsum.get?(0...5) # => 100 + 1 + 2 + 3 + 5 = 111\n```","summary":"<p>$a_i$ に $x$ を加算します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"x","external_name":"x","restriction":"T"}],"args_string":"(i : Int, x : T)","args_html":"(i : <a href=\"../Int.html\">Int</a>, x : T)","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":220,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L220"},"def":{"name":"add","args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"x","external_name":"x","restriction":"T"}],"visibility":"Public","body":"i = i + 1\nwhile i <= @size\n  __temp_41 = i - 1\n  @data[__temp_41] = @data[__temp_41] + x\n  i = i + (i & (-i))\nend\nx\n"}},{"html_id":"get(l,r):T-instance-method","name":"get","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get(0, 5) # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":32,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L32"},"def":{"name":"get","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"if (0 <= l && l <= r) && r <= @size\nelse\n  raise(IndexError.new(\"`l` and `r` must be 0 <= l <= r <= self.size (#{l}, #{r})\"))\nend\n(sum(r)) - (sum(l))\n"}},{"html_id":"get(range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get","doc":"`range` の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p><code>range</code> の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":55,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L55"},"def":{"name":"get","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = range.end ? range.end.not_nil! + (range.exclusive? ? 0 : 1) : @size\nget(l, r)\n"}},{"html_id":"get(i):T-instance-method","name":"get","doc":"$a_i$ を $O(\\log{N})$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get(5) # => 8\n```","summary":"<p>$a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":""}],"args_string":"(i) : T","args_html":"(i) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":142,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L142"},"def":{"name":"get","args":[{"name":"i","external_name":"i","restriction":""}],"return_type":"T","visibility":"Public","body":"get(i, i + 1)"}},{"html_id":"get?(l,r):T|Nil-instance-method","name":"get?","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。\n\n$0 \\leq l \\leq r \\leq n$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get?(0, 5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.get?(7, 3) # => nil\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T | Nil","args_html":"(l, r) : T | Nil","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":84,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L84"},"def":{"name":"get?","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"if (0 <= l && l <= r) && r <= @size\nelse\n  return nil\nend\nget(l, r)\n"}},{"html_id":"get?(range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get?","doc":"`range` の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。\n\n$0 \\leq l \\leq r \\leq n$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.get?(7...3) # => nil\n```","summary":"<p><code>range</code> の表す範囲の要素の総和 $\\sum_{i \\in range} a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":113,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L113"},"def":{"name":"get?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = range.end ? range.end.not_nil! + (range.exclusive? ? 0 : 1) : @size\nget?(l, r)\n"}},{"html_id":"get?(i):T|Nil-instance-method","name":"get?","doc":"$a_i$ を $O(\\log{N})$ で返します。\n\n$0 \\leq i \\lt n$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get?(5) # => 8\ncsum.get?(10)? # => nil\n```","summary":"<p>$a_i$ を $O(\\log{N})$ で返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":""}],"args_string":"(i) : T | Nil","args_html":"(i) : T | Nil","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":167,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L167"},"def":{"name":"get?","args":[{"name":"i","external_name":"i","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(i, i + 1)"}},{"html_id":"set(i:Int,x:T)-instance-method","name":"set","doc":"$a_i$ の値を $x$ に更新します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = DynamicRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.set(0, 100)\ncsum.get?(0...5) # => 100 + 1 + 2 + 3 + 5 = 111\n```","summary":"<p>$a_i$ の値を $x$ に更新します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"x","external_name":"x","restriction":"T"}],"args_string":"(i : Int, x : T)","args_html":"(i : <a href=\"../Int.html\">Int</a>, x : T)","location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":207,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L207"},"def":{"name":"set","args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"x","external_name":"x","restriction":"T"}],"visibility":"Public","body":"self[i] = x"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/data_structure/dynamic_range_sum.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_range_sum.cr#L3"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}]},{"html_id":"nglib/NgLib/DynamicRectangleSum","path":"NgLib/DynamicRectangleSum.html","kind":"class","full_name":"NgLib::DynamicRectangleSum(T)","name":"DynamicRectangleSum","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(h:Int,w:Int)-class-method","name":"new","abstract":false,"args":[{"name":"h","external_name":"h","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"}],"args_string":"(h : Int, w : Int)","args_html":"(h : <a href=\"../Int.html\">Int</a>, w : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L7"},"def":{"name":"new","args":[{"name":"h","external_name":"h","restriction":"Int"},{"name":"w","external_name":"w","restriction":"Int"}],"visibility":"Public","body":"_ = DynamicRectangleSum(T).allocate\n_.initialize(h, w)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(grid:Array(Array(T)))-class-method","name":"new","abstract":false,"args":[{"name":"grid","external_name":"grid","restriction":"Array(Array(T))"}],"args_string":"(grid : Array(Array(T)))","args_html":"(grid : Array(Array(T)))","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L13"},"def":{"name":"new","args":[{"name":"grid","external_name":"grid","restriction":"Array(Array(T))"}],"visibility":"Public","body":"_ = DynamicRectangleSum(T).allocate\n_.initialize(grid)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"[]","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":147,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L147"},"def":{"name":"[]","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"get(y_range, x_range)"}},{"html_id":"[]=(i:Int,j:Int,val:T)-instance-method","name":"[]=","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"j","external_name":"j","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"args_string":"(i : Int, j : Int, val : T)","args_html":"(i : <a href=\"../Int.html\">Int</a>, j : <a href=\"../Int.html\">Int</a>, val : T)","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":155,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L155"},"def":{"name":"[]=","args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"j","external_name":"j","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"visibility":"Public","body":"add(i, j, val - (get(i..i, j..j)))"}},{"html_id":"[]?(y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"[]?","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":151,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L151"},"def":{"name":"[]?","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(y_range, x_range)"}},{"html_id":"add(y:Int,x:Int,val:T):T-instance-method","name":"add","doc":"(y, x) の要素に val を足します。\n\n添字は 0-index です。\n\n```\ncsum = DynamicRectangleSum.new(a)\ncsum.add(y, x, val) # => val\n```","summary":"<p>(y, x) の要素に val を足します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"args_string":"(y : Int, x : Int, val : T) : T","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, val : T) : T","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":32,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L32"},"def":{"name":"add","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"return_type":"T","visibility":"Public","body":"if y < 0 || y >= @height\n  raise(IndexError.new(\"y = #{y} が配列外参照しています。 (@height = #{@height}\"))\nend\nif x < 0 || x >= @width\n  raise(IndexError.new(\"x = #{x} が配列外参照しています。 (@height = #{@width}\"))\nend\ni = y + 1\nwhile i <= @height\n  j = x + 1\n  while j <= @width\n    __temp_43 = j\n    __temp_44 = @csum[i]\n    __temp_44[__temp_43] = __temp_44[__temp_43] + val\n    j = j + (j & (-j))\n  end\n  i = i + (i & (-i))\nend\nval\n"}},{"html_id":"add?(y:Int,x:Int,val:T):Bool-instance-method","name":"add?","doc":"(y, x) の要素に val を足します。\n\n添字は 0-index です。\n\n加算に成功した場合 `true` を返します。\n\n```\ncsum = DynamicRectangleSum.new(a)\ncsum.add?(y, x, x) # => true\n```","summary":"<p>(y, x) の要素に val を足します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"args_string":"(y : Int, x : Int, val : T) : Bool","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, val : T) : Bool","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":57,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L57"},"def":{"name":"add?","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"val","external_name":"val","restriction":"T"}],"return_type":"Bool","visibility":"Public","body":"if y < 0 || y >= @height\n  return false\nend\nif x < 0 || x >= @width\n  return false\nend\ni = y + 1\nwhile i <= @height\n  j = x + 1\n  while j <= @width\n    __temp_45 = j\n    __temp_46 = @csum[i]\n    __temp_46[__temp_45] = __temp_46[__temp_45] + val\n    j = j + (j & (-j))\n  end\n  i = i + (i & (-i))\nend\ntrue\n"}},{"html_id":"csum:Array(Array(T))-instance-method","name":"csum","abstract":false,"location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L5"},"def":{"name":"csum","return_type":"Array(Array(T))","visibility":"Public","body":"@csum"}},{"html_id":"get(y_begin:Int,y_end:Int,x_begin:Int,x_end:Int):T-instance-method","name":"get","doc":"累積和を返します。\n\n[y_begin, y_end), [x_begin, x_end) で指定します。\n\nNOTE: このAPIは非推奨です。Rangeで指定することが推奨されます。","summary":"<p>累積和を返します。</p>","abstract":false,"args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"args_string":"(y_begin : Int, y_end : Int, x_begin : Int, x_end : Int) : T","args_html":"(y_begin : <a href=\"../Int.html\">Int</a>, y_end : <a href=\"../Int.html\">Int</a>, x_begin : <a href=\"../Int.html\">Int</a>, x_end : <a href=\"../Int.html\">Int</a>) : T","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":77,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L77"},"def":{"name":"get","args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"return_type":"T","visibility":"Public","body":"if y_begin <= y_end\nelse\n  raise(IndexError.new(\"`y_begin` must be less than or equal to `y_end` (#{y_begin}, #{y_end})\"))\nend\nif x_begin <= x_end\nelse\n  raise(IndexError.new(\"`x_begin` must be less than or equal to `x_end` (#{x_begin}, #{x_end})\"))\nend\n(((query(y_end, x_end)) - (query(y_end, x_begin))) - (query(y_begin, x_end))) + (query(y_begin, x_begin))\n"}},{"html_id":"get(y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get","doc":"累積和を取得します。\n\nRange(y_begin, y_end), Range(x_begin, x_end) で指定します。\n\n```\ncsum = DynamicRectangleSum.new(a)\ncsum.get(0...h, j..j + 2) # => 28\n```","summary":"<p>累積和を取得します。</p>","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":104,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L104"},"def":{"name":"get","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"y_begin = (y_range.begin || 0)\ny_end = if y_range.end.nil?\n  @height\nelse\n  y_range.end.not_nil! + (y_range.exclusive? ? 0 : 1)\nend\nx_begin = (x_range.begin || 0)\nx_end = if x_range.end.nil?\n  @width\nelse\n  x_range.end.not_nil! + (x_range.exclusive? ? 0 : 1)\nend\nget(y_begin, y_end, x_begin, x_end)\n"}},{"html_id":"get?(y_begin:Int,y_end:Int,x_begin:Int,x_end:Int):T|Nil-instance-method","name":"get?","doc":"累積和を返します。\n\n[y_begin, y_end), [x_begin, x_end) で指定します。\n\n範囲内に要素が存在しない場合 nil を返します。\n\nNOTE: このAPIは非推奨です。Rangeで指定することが推奨されます。","summary":"<p>累積和を返します。</p>","abstract":false,"args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"args_string":"(y_begin : Int, y_end : Int, x_begin : Int, x_end : Int) : T | Nil","args_html":"(y_begin : <a href=\"../Int.html\">Int</a>, y_end : <a href=\"../Int.html\">Int</a>, x_begin : <a href=\"../Int.html\">Int</a>, x_end : <a href=\"../Int.html\">Int</a>) : T | Nil","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":90,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L90"},"def":{"name":"get?","args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"return_type":"T | ::Nil","visibility":"Public","body":"if y_begin <= y_end\nelse\n  return nil\nend\nif x_begin <= x_end\nelse\n  return nil\nend\n(((query(y_end, x_end)) - (query(y_end, x_begin))) - (query(y_begin, x_end))) + (query(y_begin, x_end))\n"}},{"html_id":"get?(y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"get?","doc":"累積和を返します。\n\n[y_begin, y_end), [x_begin, x_end) で指定します。\n\n範囲内に要素が存在しない場合 nil を返します。\n\n```\ncsum = DynamicRectangleSum.new(a)\ncsum.get?(0...h, j..j + 2)     # => 28\ncsum.get?(0...100*h, j..j + 2) # => nil\n```","summary":"<p>累積和を返します。</p>","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":131,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L131"},"def":{"name":"get?","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"y_begin = (y_range.begin || 0)\ny_end = if y_range.end.nil?\n  @height\nelse\n  y_range.end.not_nil! + (y_range.exclusive? ? 0 : 1)\nend\nx_begin = (x_range.begin || 0)\nx_end = if x_range.end.nil?\n  @width\nelse\n  x_range.end.not_nil! + (x_range.exclusive? ? 0 : 1)\nend\nget?(y_begin, y_end, x_begin, x_end)\n"}},{"html_id":"height:Int32-instance-method","name":"height","abstract":false,"location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L3"},"def":{"name":"height","return_type":"Int32","visibility":"Public","body":"@height"}},{"html_id":"width:Int32-instance-method","name":"width","abstract":false,"location":{"filename":"src/nglib/data_structure/dynamic_rectangle_sum.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/dynamic_rectangle_sum.cr#L4"},"def":{"name":"width","return_type":"Int32","visibility":"Public","body":"@width"}}]},{"html_id":"nglib/NgLib/Edge","path":"NgLib/Edge.html","kind":"struct","full_name":"NgLib::Edge","name":"Edge","abstract":false,"superclass":{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/weighted_edge.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/weighted_edge.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"class_methods":[{"html_id":"to-class-method","name":"to","abstract":false,"location":{"filename":"src/nglib/graph/weighted_edge.cr","line_number":9,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/weighted_edge.cr#L9"},"def":{"name":"to","visibility":"Public","body":"@data[0]"}},{"html_id":"weight-class-method","name":"weight","abstract":false,"location":{"filename":"src/nglib/graph/weighted_edge.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/weighted_edge.cr#L13"},"def":{"name":"weight","visibility":"Public","body":"@data[1]"}}],"constructors":[{"html_id":"new(t:Int64,w:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"Int64"},{"name":"w","external_name":"w","restriction":"Int64"}],"args_string":"(t : Int64, w : Int64)","args_html":"(t : Int64, w : Int64)","location":{"filename":"src/nglib/graph/weighted_edge.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/weighted_edge.cr#L5"},"def":{"name":"new","args":[{"name":"t","external_name":"t","restriction":"Int64"},{"name":"w","external_name":"w","restriction":"Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(t, w)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](i:Int)-instance-method","name":"[]","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"}],"args_string":"(i : Int)","args_html":"(i : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/weighted_edge.cr","line_number":17,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/weighted_edge.cr#L17"},"def":{"name":"[]","args":[{"name":"i","external_name":"i","restriction":"Int"}],"visibility":"Public","body":"@data[i]"}}]},{"html_id":"nglib/NgLib/FastIn","path":"NgLib/FastIn.html","kind":"module","full_name":"NgLib::FastIn","name":"FastIn","abstract":false,"locations":[{"filename":"src/nglib/utils/fastin.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"extended_modules":[{"html_id":"nglib/NgLib/FastIn","kind":"module","full_name":"NgLib::FastIn","name":"FastIn"}],"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"types":[{"html_id":"nglib/NgLib/FastIn/Scanner","path":"NgLib/FastIn/Scanner.html","kind":"module","full_name":"NgLib::FastIn::Scanner","name":"Scanner","abstract":false,"locations":[{"filename":"src/nglib/utils/fastin.cr","line_number":9,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L9"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"extended_modules":[{"html_id":"nglib/NgLib/FastIn/Scanner","kind":"module","full_name":"NgLib::FastIn::Scanner","name":"Scanner"}],"namespace":{"html_id":"nglib/NgLib/FastIn","kind":"module","full_name":"NgLib::FastIn","name":"FastIn"},"instance_methods":[{"html_id":"read_char:Char-instance-method","name":"read_char","abstract":false,"location":{"filename":"src/nglib/utils/fastin.cr","line_number":38,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L38"},"def":{"name":"read_char","return_type":"Char","visibility":"Public","body":"next_char"}},{"html_id":"read_i128(offset=0)-instance-method","name":"read_i128","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_i128","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = Int128.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = Int128.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = Int128.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_i16(offset=0)-instance-method","name":"read_i16","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_i16","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = Int16.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = Int16.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = Int16.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_i32(offset=0)-instance-method","name":"read_i32","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_i32","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = Int32.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = Int32.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = Int32.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_i64(offset=0)-instance-method","name":"read_i64","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_i64","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = Int64.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = Int64.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = Int64.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_i8(offset=0)-instance-method","name":"read_i8","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_i8","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = Int8.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = Int8.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = Int8.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_u128(offset=0)-instance-method","name":"read_u128","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_u128","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = UInt128.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = UInt128.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = UInt128.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_u16(offset=0)-instance-method","name":"read_u16","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_u16","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = UInt16.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = UInt16.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = UInt16.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_u32(offset=0)-instance-method","name":"read_u32","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_u32","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = UInt32.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = UInt32.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = UInt32.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_u64(offset=0)-instance-method","name":"read_u64","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_u64","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = UInt64.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = UInt64.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = UInt64.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_u8(offset=0)-instance-method","name":"read_u8","abstract":false,"args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"args_string":"(offset = 0)","args_html":"(offset = <span class=\"n\">0</span>)","location":{"filename":"src/nglib/utils/fastin.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L12"},"def":{"name":"read_u8","args":[{"name":"offset","default_value":"0","external_name":"offset","restriction":""}],"visibility":"Public","body":"c = next_char\nres = UInt8.new(c.ord - '0'.ord)\nsgn = 1\ncase c\nwhen '-'\n  res = UInt8.new(LibC.getchar.ord - '0'.ord)\n  sgn = -1\nwhen '+'\n  res = UInt8.new(LibC.getchar.ord - '0'.ord)\nend\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  res = (res * 10) + (c.ord - '0'.ord)\nend\n(res * sgn) + offset\n"}},{"html_id":"read_word:String-instance-method","name":"read_word","abstract":false,"location":{"filename":"src/nglib/utils/fastin.cr","line_number":42,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/utils/fastin.cr#L42"},"def":{"name":"read_word","return_type":"String","visibility":"Public","body":"c = next_char\ns = [c]\nwhile !(ascii_voidchar?(c = LibC.getchar))\n  s << c\nend\ns.join\n"}}]}]},{"html_id":"nglib/NgLib/Grid","path":"NgLib/Grid.html","kind":"class","full_name":"NgLib::Grid(T)","name":"Grid","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":16,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L16"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"DOWN","name":"DOWN","value":"{1, 0}"},{"id":"DYDX2","name":"DYDX2","value":"[DOWN, RIGHT]"},{"id":"DYDX4","name":"DYDX4","value":"[UP, LEFT, DOWN, RIGHT]"},{"id":"DYDX8","name":"DYDX8","value":"[UP, add(UP, RIGHT), RIGHT, add(DOWN, RIGHT), DOWN, add(DOWN, LEFT), LEFT, add(UP, LEFT)]"},{"id":"LEFT","name":"LEFT","value":"{0, -1}"},{"id":"RIGHT","name":"RIGHT","value":"{0, 1}"},{"id":"UP","name":"UP","value":"{-1, 0}"}],"included_modules":[{"html_id":"nglib/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"class_methods":[{"html_id":"add(v1:Tuple(Int,Int),v2:Tuple(Int,Int))-class-method","name":"add","abstract":false,"args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"args_string":"(v1 : Tuple(Int, Int), v2 : Tuple(Int, Int))","args_html":"(v1 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>), v2 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/nglib/grid/grid.cr","line_number":19,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L19"},"def":{"name":"add","args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"visibility":"Public","body":"{v1[0] + v2[0], v1[1] + v2[1]}"}},{"html_id":"dydx2(s:Array(Array(T)))-class-method","name":"dydx2","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"args_string":"(s : Array(Array(T)))","args_html":"(s : Array(Array(T)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":51,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L51"},"def":{"name":"dydx2","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"visibility":"Public","body":"new(s, DYDX2)"}},{"html_id":"dydx4(s:Array(Array(T)))-class-method","name":"dydx4","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"args_string":"(s : Array(Array(T)))","args_html":"(s : Array(Array(T)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":55,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L55"},"def":{"name":"dydx4","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"visibility":"Public","body":"new(s, DYDX4)"}},{"html_id":"dydx8(s:Array(Array(T)))-class-method","name":"dydx8","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"args_string":"(s : Array(Array(T)))","args_html":"(s : Array(Array(T)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":59,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L59"},"def":{"name":"dydx8","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"}],"visibility":"Public","body":"new(s, DYDX8)"}},{"html_id":"sub(v1:Tuple(Int,Int),v2:Tuple(Int,Int))-class-method","name":"sub","abstract":false,"args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"args_string":"(v1 : Tuple(Int, Int), v2 : Tuple(Int, Int))","args_html":"(v1 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>), v2 : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/nglib/grid/grid.cr","line_number":23,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L23"},"def":{"name":"sub","args":[{"name":"v1","external_name":"v1","restriction":"::Tuple(Int, Int)"},{"name":"v2","external_name":"v2","restriction":"::Tuple(Int, Int)"}],"visibility":"Public","body":"{v1[0] - v2[0], v1[1] - v2[1]}"}}],"constructors":[{"html_id":"new(s:Array(Array(T)),delta:Array(Tuple(Int32,Int32)))-class-method","name":"new","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"},{"name":"delta","external_name":"delta","restriction":"::Array(::Tuple(::Int32, ::Int32))"}],"args_string":"(s : Array(Array(T)), delta : Array(Tuple(Int32, Int32)))","args_html":"(s : Array(Array(T)), delta : Array(Tuple(Int32, Int32)))","location":{"filename":"src/nglib/grid/grid.cr","line_number":63,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L63"},"def":{"name":"new","args":[{"name":"s","external_name":"s","restriction":"Array(Array(T))"},{"name":"delta","external_name":"delta","restriction":"::Array(::Tuple(::Int32, ::Int32))"}],"visibility":"Public","body":"_ = Grid(T).allocate\n_.initialize(s, delta)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](y:Int,x:Int)-instance-method","name":"[]","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/grid/grid.cr","line_number":449,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L449"},"def":{"name":"[]","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"visibility":"Public","body":"@s[(y * @w) + x]"}},{"html_id":"[](pos:Tuple(Int,Int))-instance-method","name":"[]","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"}],"args_string":"(pos : Tuple(Int, Int))","args_html":"(pos : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/nglib/grid/grid.cr","line_number":445,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L445"},"def":{"name":"[]","args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"}],"visibility":"Public","body":"self[pos[0], pos[1]]"}},{"html_id":"[]=(y:Int,x:Int,c:T)-instance-method","name":"[]=","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"c","external_name":"c","restriction":"T"}],"args_string":"(y : Int, x : Int, c : T)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, c : T)","location":{"filename":"src/nglib/grid/grid.cr","line_number":457,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L457"},"def":{"name":"[]=","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"c","external_name":"c","restriction":"T"}],"visibility":"Public","body":"@s[(y * @w) + x] = c"}},{"html_id":"[]=(pos:Tuple(Int,Int),c:T)-instance-method","name":"[]=","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"},{"name":"c","external_name":"c","restriction":"T"}],"args_string":"(pos : Tuple(Int, Int), c : T)","args_html":"(pos : Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>), c : T)","location":{"filename":"src/nglib/grid/grid.cr","line_number":453,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L453"},"def":{"name":"[]=","args":[{"name":"pos","external_name":"pos","restriction":"::Tuple(Int, Int)"},{"name":"c","external_name":"c","restriction":"T"}],"visibility":"Public","body":"self[pos[0], pos[1]] = c"}},{"html_id":"barred?(y:Int,x:Int):Bool-instance-method","name":"barred?","doc":"位置 $(y, x)$ が進入禁止なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars,\n]\n\ngrid.barred?(0, 0) # => false\ngrid.barred?(1, 1) # => true\n```","summary":"<p>位置 $(y, x)$ が進入禁止なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int) : Bool","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":122,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L122"},"def":{"name":"barred?","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"return_type":"Bool","visibility":"Public","body":"(over?(y, x)) || (self[y, x] == @bar)"}},{"html_id":"barred?(pos):Bool-instance-method","name":"barred?","doc":"位置 `pos` が進入禁止なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars,\n]\n\ngrid.barred?({0, 0}) # => false\ngrid.barred?({1, 1}) # => true\n```","summary":"<p>位置 <code>pos</code> が進入禁止なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":""}],"args_string":"(pos) : Bool","args_html":"(pos) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":106,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L106"},"def":{"name":"barred?","args":[{"name":"pos","external_name":"pos","restriction":""}],"return_type":"Bool","visibility":"Public","body":"barred?(pos[0], pos[1])"}},{"html_id":"delta:Array(Pos)-instance-method","name":"delta","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":47,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L47"},"def":{"name":"delta","return_type":"Array(Pos)","visibility":"Public","body":"@delta"}},{"html_id":"each(&:T->)-instance-method","name":"each","doc":"グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。\n\n```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars,\n]\ngrid = Grid(Char).new(s)\ngird.each { |c| puts c } # => '.', '.', '#', '.', ..., '.'\n```","summary":"<p>グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":315,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L315"},"def":{"name":"each","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(T ->)"},"visibility":"Public","body":"i = 0\nwhile i < h\n  j = 0\n  while j < w\n    yield self[i, j]\n    j = j + 1\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_neighbor(y:Int,x:Int,&)-instance-method","name":"each_neighbor","doc":"位置 $(y, x)$ の近傍で、侵入可能な位置を列挙します。\n\n```\ngrid = Grid.dydx([\".#.\", \"...\", \"...\"])\n\ngrid.each_neighbor(1, 1) do |ny, nx|\nend\n```","summary":"<p>位置 $(y, x)$ の近傍で、侵入可能な位置を列挙します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int, &)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, &)","location":{"filename":"src/nglib/grid/grid.cr","line_number":392,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L392"},"def":{"name":"each_neighbor","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"yields":2,"block_arity":2,"visibility":"Public","body":"i = 0\nwhile i < @delta.size\n  ny = y + @delta[i][0]\n  nx = x + @delta[i][1]\n  if free?(ny, nx)\n    yield ny, nx\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_neighbor_with_direction(y:Int,x:Int,&)-instance-method","name":"each_neighbor_with_direction","doc":"位置 $(y, x)$ の近傍で、侵入可能な位置を方向とともに列挙します。\n\n```\ngrid = Grid.dydx4([\".#.\", \"...\", \"...\"])\n\ngrid.each_neighbor(1, 1) do |ny, nx, dir|\nend\n```","summary":"<p>位置 $(y, x)$ の近傍で、侵入可能な位置を方向とともに列挙します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int, &)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, &)","location":{"filename":"src/nglib/grid/grid.cr","line_number":410,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L410"},"def":{"name":"each_neighbor_with_direction","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"yields":3,"block_arity":3,"visibility":"Public","body":"i = 0\nwhile i < @delta.size\n  ny = y + @delta[i][0]\n  nx = x + @delta[i][1]\n  if free?(ny, nx)\n    yield ny, nx, i\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_with_coord(&)-instance-method","name":"each_with_coord","doc":"グリッドの値を $(0, 0)$ から $(H, W)$ まで順に座標付きで列挙します。\n\n```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars,\n]\ngrid = Grid(Char).new(s)\ngird.each { |c, (i, j)| puts c, {i, j} }\n```","summary":"<p>グリッドの値を $(0, 0)$ から $(H, W)$ まで順に座標付きで列挙します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":353,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L353"},"def":{"name":"each_with_coord","yields":2,"block_arity":2,"visibility":"Public","body":"i = 0\nwhile i < h\n  j = 0\n  while j < w\n    yield self[i, j], {i, j}\n    j = j + 1\n  end\n  i = i + 1\nend\n"}},{"html_id":"each_with_index(&)-instance-method","name":"each_with_index","doc":"グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。\n\nindex は $Wi + j$ を返します。通常は `each_with_coord` を利用することを推奨します。","summary":"<p>グリッドの値を $(0, 0)$ から $(H, W)$ まで順に列挙します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":330,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L330"},"def":{"name":"each_with_index","yields":2,"block_arity":2,"visibility":"Public","body":"i = 0\nwhile i < h\n  j = 0\n  while j < w\n    yield self[i, j], (w * i) + j\n    j = j + 1\n  end\n  i = i + 1\nend\n"}},{"html_id":"fetch(y:Int,x:Int,default:T)-instance-method","name":"fetch","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"default","external_name":"default","restriction":"T"}],"args_string":"(y : Int, x : Int, default : T)","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>, default : T)","location":{"filename":"src/nglib/grid/grid.cr","line_number":420,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L420"},"def":{"name":"fetch","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"},{"name":"default","external_name":"default","restriction":"T"}],"visibility":"Public","body":"over?(y, x) ? default : self[y, x]"}},{"html_id":"free?(y:Int,x:Int):Bool-instance-method","name":"free?","doc":"位置 $(y, x)$ が通行可能なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars,\n]\n\ngrid.free?(0, 0) # => true\ngrid.free?(1, 1) # => false\n```","summary":"<p>位置 $(y, x)$ が通行可能なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"args_string":"(y : Int, x : Int) : Bool","args_html":"(y : <a href=\"../Int.html\">Int</a>, x : <a href=\"../Int.html\">Int</a>) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":154,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L154"},"def":{"name":"free?","args":[{"name":"y","external_name":"y","restriction":"Int"},{"name":"x","external_name":"x","restriction":"Int"}],"return_type":"Bool","visibility":"Public","body":"!(barred?(y, x))"}},{"html_id":"free?(pos):Bool-instance-method","name":"free?","doc":"位置 `pos` が通行可能なら `true` を返します。\n\n```\ns = [\n  \"..\".chars,\n  \".#\".chars,\n]\n\ngrid.free?({0, 0}) # => true\ngrid.free?({1, 1}) # => false\n```","summary":"<p>位置 <code>pos</code> が通行可能なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":""}],"args_string":"(pos) : Bool","args_html":"(pos) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":138,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L138"},"def":{"name":"free?","args":[{"name":"pos","external_name":"pos","restriction":""}],"return_type":"Bool","visibility":"Public","body":"!(barred?(pos))"}},{"html_id":"h:Int32-instance-method","name":"h","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":46,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L46"},"def":{"name":"h","return_type":"Int32","visibility":"Public","body":"@h"}},{"html_id":"index(&:T->):Tuple(Int32,Int32)|Nil-instance-method","name":"index","doc":"Returns the index of the first element for which the passed block is truthy.\n\n```\n[\"Alice\", \"Bob\"].index { |name| name.size < 4 } # => 1 (Bob's index)\n```\n\nReturns `nil` if the block is not truthy for any element.","summary":"<p>Returns the index of the first element for which the passed block is truthy.</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":365,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L365"},"def":{"name":"index","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(T ->)"},"return_type":"::Tuple(Int32, Int32) | ::Nil","visibility":"Public","body":"each_with_coord do |c, __arg3|\n  i = __arg3[0]\n  j = __arg3[1]\n  if yield c\n    return {i, j}\n  end\nend\nnil\n"}},{"html_id":"index(obj):Tuple(Int32,Int32)|Nil-instance-method","name":"index","doc":"Returns the first index of *obj* in the collection.\n\n```\n[\"Alice\", \"Bob\"].index(\"Alice\") # => 0\n```\n\nReturns `nil` if *obj* is not in the collection.","summary":"<p>Returns the first index of <em>obj</em> in the collection.</p>","abstract":false,"args":[{"name":"obj","external_name":"obj","restriction":""}],"args_string":"(obj) : Tuple(Int32, Int32) | Nil","args_html":"(obj) : Tuple(Int32, Int32) | Nil","location":{"filename":"src/nglib/grid/grid.cr","line_number":372,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L372"},"def":{"name":"index","args":[{"name":"obj","external_name":"obj","restriction":""}],"return_type":"::Tuple(Int32, Int32) | ::Nil","visibility":"Public","body":"index do |c|\n  c == obj\nend"}},{"html_id":"index!(&:T->):Tuple(Int32,Int32)-instance-method","name":"index!","doc":"Returns the index of the first element for which the passed block is truthy.\n\n```\n[\"Alice\", \"Bob\"].index! { |name| name.size < 4 } # => 1 (Bob's index)\n```\n\nRaises `Enumerable::NotFoundError` if there is no element for which the block is truthy.","summary":"<p>Returns the index of the first element for which the passed block is truthy.</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":376,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L376"},"def":{"name":"index!","yields":1,"block_arity":1,"block_arg":{"name":"","external_name":"","restriction":"(T ->)"},"return_type":"::Tuple(Int32, Int32)","visibility":"Public","body":"index do |c|\n  yield c\nend || (raise(Exception.new(\"Not found.\")))"}},{"html_id":"index!(obj):Tuple(Int32,Int32)|Nil-instance-method","name":"index!","doc":"Returns the first index of *obj* in the collection.\n\n```\n[\"Alice\", \"Bob\"].index!(\"Alice\") # => 0\n```\n\nRaises `Enumerable::NotFoundError` if *obj* is not in the collection.","summary":"<p>Returns the first index of <em>obj</em> in the collection.</p>","abstract":false,"args":[{"name":"obj","external_name":"obj","restriction":""}],"args_string":"(obj) : Tuple(Int32, Int32) | Nil","args_html":"(obj) : Tuple(Int32, Int32) | Nil","location":{"filename":"src/nglib/grid/grid.cr","line_number":380,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L380"},"def":{"name":"index!","args":[{"name":"obj","external_name":"obj","restriction":""}],"return_type":"::Tuple(Int32, Int32) | ::Nil","visibility":"Public","body":"index! do |c|\n  c == obj\nend"}},{"html_id":"label_grid-instance-method","name":"label_grid","doc":"```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars,\n]\ngrid = Grid(Char).new(s)\ngrid.label_grid # => [[0, 0, -1], [0, -2, 1], [-2, -2, 1]]\n```","summary":"<p><code>s = [ &quot;..#&quot;.chars, &quot;.#.&quot;.chars, &quot;##.&quot;.chars, ] grid = <a href=\"../NgLib/Grid.html\">Grid</a>(<a href=\"../Char.html\">Char</a>).new(s) grid.label_grid # =&gt; [[0, 0, -1], [0, -2, 1], [-2, -2, 1]]</code></p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":266,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L266"},"def":{"name":"label_grid","visibility":"Public","body":"table = Array.new(@h) do\n  [nil.as(Int32 | ::Nil)] * @w\nend\nfree_index, bar_index = 0, -1\n@h.times do |i|\n  @w.times do |j|\n    if table[i][j].nil?\n    else\n      next\n    end\n    label = 0\n    is_bar = barred?(i, j)\n    if is_bar\n      label = bar_index\n      bar_index = bar_index - 1\n    else\n      label = free_index\n      free_index = free_index + 1\n    end\n    queue = Deque(::Tuple(Int32, Int32)).new([{i, j}])\n    table[i][j] = label\n    while !queue.empty?\n      y, x = queue.shift\n      @delta.each do |__arg1|\n        dy = __arg1[0]\n        dx = __arg1[1]\n        ny = y + dy\n        nx = x + dx\n        if over?(ny, nx)\n          next\n        end\n        if table[ny][nx].nil?\n        else\n          next\n        end\n        if is_bar ^ (barred?(ny, nx))\n          next\n        end\n        table[ny][nx] = label\n        queue << {ny, nx}\n      end\n    end\n  end\nend\nGrid(Int32).new(table.map do |line|\n  line.map(&.not_nil!)\nend, @delta)\n"}},{"html_id":"over?(y,x):Bool-instance-method","name":"over?","doc":"位置 $(y, x)$ がグリッドの範囲外なら `true` を返します。\n\n```\ngrid.over?(-1, 0)          # => true\ngrid.over?(h + 10, w + 10) # => true\ngrid.over?(0, 0)           # => false\n```","summary":"<p>位置 $(y, x)$ がグリッドの範囲外なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"y","external_name":"y","restriction":""},{"name":"x","external_name":"x","restriction":""}],"args_string":"(y, x) : Bool","args_html":"(y, x) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":90,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L90"},"def":{"name":"over?","args":[{"name":"y","external_name":"y","restriction":""},{"name":"x","external_name":"x","restriction":""}],"return_type":"Bool","visibility":"Public","body":"((y < 0 || y >= @h) || x < 0) || x >= @w"}},{"html_id":"over?(pos):Bool-instance-method","name":"over?","doc":"位置 `pos` がグリッドの範囲外なら `true` を返します。\n\n```\ngrid.over?({-1, 0})          # => true\ngrid.over?({h + 10, w + 10}) # => true\ngrid.over?({0, 0})           # => false\n```","summary":"<p>位置 <code>pos</code> がグリッドの範囲外なら <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"pos","external_name":"pos","restriction":""}],"args_string":"(pos) : Bool","args_html":"(pos) : Bool","location":{"filename":"src/nglib/grid/grid.cr","line_number":78,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L78"},"def":{"name":"over?","args":[{"name":"pos","external_name":"pos","restriction":""}],"return_type":"Bool","visibility":"Public","body":"over?(pos[0], pos[1])"}},{"html_id":"shortest_path(start:Tuple,dest:Tuple):Int64-instance-method","name":"shortest_path","doc":"始点 $(si, sj)$ から終点 $(gi, gj)$ への最短経路長を返します。\n\n```\ndist = grid.shortest_path(start: {si, sj})\ndist[gi][gj] # => 4\n```","summary":"<p>始点 $(si, sj)$ から終点 $(gi, gj)$ への最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Tuple"},{"name":"dest","external_name":"dest","restriction":"Tuple"}],"args_string":"(start : Tuple, dest : Tuple) : Int64","args_html":"(start : Tuple, dest : Tuple) : Int64","location":{"filename":"src/nglib/grid/grid.cr","line_number":199,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L199"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Tuple"},{"name":"dest","external_name":"dest","restriction":"Tuple"}],"return_type":"Int64","visibility":"Public","body":"(shortest_path(start))[dest[0]][dest[1]]"}},{"html_id":"shortest_path(start:Tuple):Array(Array(Int64))-instance-method","name":"shortest_path","doc":"始点 $(si, sj)$ から各マスへの最短経路長を返します。\n\n```\ndist = grid.shortest_path(start: {si, sj})\ndist[gi][gj] # => 4\n```","summary":"<p>始点 $(si, sj)$ から各マスへの最短経路長を返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Tuple"}],"args_string":"(start : Tuple) : Array(Array(Int64))","args_html":"(start : Tuple) : Array(Array(Int64))","location":{"filename":"src/nglib/grid/grid.cr","line_number":178,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L178"},"def":{"name":"shortest_path","args":[{"name":"start","external_name":"start","restriction":"Tuple"}],"return_type":"Array(Array(Int64))","visibility":"Public","body":"queue = Deque.new([start])\ndist = Array.new(@h) do\n  Array.new(@w) do\n    OO\n  end\nend\ndist[start[0]][start[1]] = 0\nwhile !queue.empty?\n  i, j = queue.shift\n  each_neighbor(i, j) do |ni, nj|\n    if dist[ni][nj] != OO\n      next\n    end\n    dist[ni][nj] = dist[i][j] + 1\n    queue << {ni, nj}\n  end\nend\ndist\n"}},{"html_id":"shortest_path:Array(Array(Int64))-instance-method","name":"shortest_path","doc":"全マス間の最短経路長を返します。\n\n```\ndist = grid.shortest_path\ndist[si][sj][gi][gj] # => 4\n```","summary":"<p>全マス間の最短経路長を返します。</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":164,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L164"},"def":{"name":"shortest_path","return_type":"Array(Array(Int64))","visibility":"Public","body":"Array.new(@h) do |si|\n  Array.new(@w) do |sj|\n    shortest_path(si, sj)\n  end\nend"}},{"html_id":"to_a:Array(Array(T))-instance-method","name":"to_a","doc":"Returns an `Array` with all the elements in the collection.\n\n```\n(1..5).to_a # => [1, 2, 3, 4, 5]\n```","summary":"<p>Returns an <code>Array</code> with all the elements in the collection.</p>","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":424,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L424"},"def":{"name":"to_a","return_type":"Array(Array(T))","visibility":"Public","body":"a = Array.new(@h) do\n  Array(T).new(@w)\nend\n@h.times do |i|\n  @w.times do |j|\n    a[i] << self[i, j]\n  end\nend\na\n"}},{"html_id":"to_graph(type=:connect_free):Array(Array(Int32))-instance-method","name":"to_graph","doc":"グリッドを隣接リスト形式で無向グラフに変換します。\n\nあるマス $(i, j)$ の頂点番号は $Wi + j$ となります。\n\n- `:connect_free` : free 同士を結びます（デフォルト）\n- `:connect_bar` : bar 同士を結びます\n- `:connect_same_type` : bar 同士、free 同士を結びます\n\n```\ns = [\n  \"..#\".chars,\n  \".#.\".chars,\n  \"##.\".chars,\n]\ngrid = Grid(Char).new(s)\ngrid.to_graph # => [[3, 1], [0], [1, 5], [0], [1, 3, 5], [8], [3], [8], [5]]\n```","summary":"<p>グリッドを隣接リスト形式で無向グラフに変換します。</p>","abstract":false,"args":[{"name":"type","default_value":":connect_free","external_name":"type","restriction":""}],"args_string":"(type = :connect_free) : Array(Array(Int32))","args_html":"(type = <span class=\"n\">:connect_free</span>) : Array(Array(Int32))","location":{"filename":"src/nglib/grid/grid.cr","line_number":220,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L220"},"def":{"name":"to_graph","args":[{"name":"type","default_value":":connect_free","external_name":"type","restriction":""}],"return_type":"Array(Array(Int32))","visibility":"Public","body":"graph = Array.new(@w * @h) do\n  [] of Int32\nend\n@h.times do |i|\n  @w.times do |j|\n    node = (@w * i) + j\n    @delta.each do |__arg0|\n      di = __arg0[0]\n      dj = __arg0[1]\n      ni = i + di\n      nj = j + dj\n      if over?(ni, nj)\n        next\n      end\n      node2 = (@w * ni) + nj\n      both_frees = (free?(i, j)) & (free?(ni, nj))\n      both_bars = (barred?(i, j)) & (barred?(ni, nj))\n      case type\n      when :connect_free\n        if both_frees\n          graph[node] << node2\n        end\n      when :connect_bar\n        if both_bars\n          graph[node] << node2\n        end\n      when :connect_same_type\n        if both_frees || both_bars\n          graph[node] << node2\n        end\n      end\n    end\n  end\nend\ngraph\n"}},{"html_id":"to_s(io:IO)-instance-method","name":"to_s","doc":"Appends a short String representation of this object\nwhich includes its class name and its object address.\n\n```\nclass Person\n  def initialize(@name : String, @age : Int32)\n  end\nend\n\nPerson.new(\"John\", 32).to_s # => #<Person:0x10a199f20>\n```","summary":"<p>Appends a short String representation of this object which includes its class name and its object address.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/nglib/grid/grid.cr","line_number":434,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L434"},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"@h.times do |i|\n  @w.times do |j|\n    if j != 0\n      io << ' '\n    end\n    io << self[i, j]\n  end\n  io << '\\n'\nend\nio\n"}},{"html_id":"w:Int32-instance-method","name":"w","abstract":false,"location":{"filename":"src/nglib/grid/grid.cr","line_number":46,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L46"},"def":{"name":"w","return_type":"Int32","visibility":"Public","body":"@w"}}],"types":[{"html_id":"nglib/NgLib/Grid/Pos","path":"NgLib/Grid/Pos.html","kind":"alias","full_name":"NgLib::Grid::Pos","name":"Pos","abstract":false,"locations":[{"filename":"src/nglib/grid/grid.cr","line_number":45,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/grid/grid.cr#L45"}],"repository_name":"nglib","program":false,"enum":false,"alias":true,"aliased":"Tuple(Int32, Int32)","aliased_html":"{Int32, Int32}","const":false,"namespace":{"html_id":"nglib/NgLib/Grid","kind":"class","full_name":"NgLib::Grid(T)","name":"Grid"}}]},{"html_id":"nglib/NgLib/LCA","path":"NgLib/LCA.html","kind":"class","full_name":"NgLib::LCA","name":"LCA","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/lca.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(graph:Graph,root=0_i64)-class-method","name":"new","doc":"木構造グラフ `graph` に対して、`root` を根とする LCA を構築します。","summary":"<p>木構造グラフ <code>graph</code> に対して、<code>root</code> を根とする LCA を構築します。</p>","abstract":false,"args":[{"name":"graph","external_name":"graph","restriction":"Graph"},{"name":"root","default_value":"0_i64","external_name":"root","restriction":""}],"args_string":"(graph : Graph, root = 0_i64)","args_html":"(graph : <a href=\"../NgLib/LCA/Graph.html\">Graph</a>, root = <span class=\"n\">0_i64</span>)","location":{"filename":"src/nglib/graph/lca.cr","line_number":11,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L11"},"def":{"name":"new","args":[{"name":"graph","external_name":"graph","restriction":"Graph"},{"name":"root","default_value":"0_i64","external_name":"root","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(graph, root)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"ancestor(u:Int,v:Int):Int64-instance-method","name":"ancestor","doc":"頂点 $u$ と 頂点 $v$ の最近共通祖先を返します。","summary":"<p>頂点 $u$ と 頂点 $v$ の最近共通祖先を返します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"args_string":"(u : Int, v : Int) : Int64","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>) : Int64","location":{"filename":"src/nglib/graph/lca.cr","line_number":33,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L33"},"def":{"name":"ancestor","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"return_type":"Int64","visibility":"Public","body":"if @dist[u] < @dist[v]\n  u, v = v, u\nend\nn = @parent.size\nn.times do |k|\n  if ((dist[u] - dist[v]).bit(k)) == 1\n    u = @parent[k][u]\n  end\nend\nif u == v\n  return u\nend\n(n - 1).downto(0) do |k|\n  if @parent[k][u] != @parent[k][v]\n    u, v = @parent[k][u], @parent[k][v]\n  end\nend\n@parent[0][u]\n"}},{"html_id":"dist:Array(Int64)-instance-method","name":"dist","abstract":false,"location":{"filename":"src/nglib/graph/lca.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L7"},"def":{"name":"dist","return_type":"Array(Int64)","visibility":"Public","body":"@dist"}},{"html_id":"distance_between(u:Int,v:Int):Int64-instance-method","name":"distance_between","doc":"頂点 $u$ と頂点 $v$ の距離を返します。","summary":"<p>頂点 $u$ と頂点 $v$ の距離を返します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"args_string":"(u : Int, v : Int) : Int64","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>) : Int64","location":{"filename":"src/nglib/graph/lca.cr","line_number":51,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L51"},"def":{"name":"distance_between","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"}],"return_type":"Int64","visibility":"Public","body":"(dist[u] + dist[v]) - (dist[ancestor(u, v)] * 2)"}},{"html_id":"on_path?(u:Int,v:Int,a:Int):Bool-instance-method","name":"on_path?","doc":"頂点 $u$ から頂点 $v$ までのパスに頂点 $a$ が含まれているか返します。","summary":"<p>頂点 $u$ から頂点 $v$ までのパスに頂点 $a$ が含まれているか返します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"a","external_name":"a","restriction":"Int"}],"args_string":"(u : Int, v : Int, a : Int) : Bool","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, a : <a href=\"../Int.html\">Int</a>) : Bool","location":{"filename":"src/nglib/graph/lca.cr","line_number":56,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L56"},"def":{"name":"on_path?","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"a","external_name":"a","restriction":"Int"}],"return_type":"Bool","visibility":"Public","body":"((distance_between(u, a)) + (distance_between(a, v))) == (distance_between(u, v))"}},{"html_id":"parent:Array(Array(Int64))-instance-method","name":"parent","abstract":false,"location":{"filename":"src/nglib/graph/lca.cr","line_number":6,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L6"},"def":{"name":"parent","return_type":"Array(Array(Int64))","visibility":"Public","body":"@parent"}}],"types":[{"html_id":"nglib/NgLib/LCA/Graph","path":"NgLib/LCA/Graph.html","kind":"alias","full_name":"NgLib::LCA::Graph","name":"Graph","abstract":false,"locations":[{"filename":"src/nglib/graph/lca.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/lca.cr#L5"}],"repository_name":"nglib","program":false,"enum":false,"alias":true,"aliased":"Array(Array(Int64))","aliased_html":"Array(Array(Int64))","const":false,"namespace":{"html_id":"nglib/NgLib/LCA","kind":"class","full_name":"NgLib::LCA","name":"LCA"}}]},{"html_id":"nglib/NgLib/MaxFlowGraph","path":"NgLib/MaxFlowGraph.html","kind":"class","full_name":"NgLib::MaxFlowGraph(Cap)","name":"MaxFlowGraph","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/max_flow.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(n:Int)-class-method","name":"new","doc":"$n$ 頂点 $0$ 辺のグラフを作ります。\n\n```\nn = 10\ngraph = MaxFlowGraph(Int64).new(n)\n```","summary":"<p>$n$ 頂点 $0$ 辺のグラフを作ります。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"}],"args_string":"(n : Int)","args_html":"(n : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":33,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L33"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":"Int"}],"visibility":"Public","body":"_ = MaxFlowGraph(Cap).allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new-class-method","name":"new","doc":"$0$ 頂点 $0$ 辺のグラフを作ります。\n\n```\ngraph = MaxFlowGraph(Int64).new\n```","summary":"<p>$0$ 頂点 $0$ 辺のグラフを作ります。</p>","abstract":false,"location":{"filename":"src/nglib/graph/max_flow.cr","line_number":21,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L21"},"def":{"name":"new","visibility":"Public","body":"_ = MaxFlowGraph(Cap).allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(from:Int,to:Int,cap:Cap):Int32-instance-method","name":"add_edge","doc":"頂点 `from` から頂点 `to` へ最大容量 `cap`、流量 $0$ の辺を追加します。\n\n何番目に追加された辺であるかを返します。\n\n```\nn = 10\ngraph = MaxFlowGraph(Int64).new(n)\ngraph.add_edge(0, 1, 1) # => 0\ngraph.add_edge(1, 3, 2) # => 1\ngraph.add_edge(5, 6, 8) # => 2\n```","summary":"<p>頂点 <code>from</code> から頂点 <code>to</code> へ最大容量 <code>cap</code>、流量 $0$ の辺を追加します。</p>","abstract":false,"args":[{"name":"from","external_name":"from","restriction":"Int"},{"name":"to","external_name":"to","restriction":"Int"},{"name":"cap","external_name":"cap","restriction":"Cap"}],"args_string":"(from : Int, to : Int, cap : Cap) : Int32","args_html":"(from : <a href=\"../Int.html\">Int</a>, to : <a href=\"../Int.html\">Int</a>, cap : Cap) : Int32","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":50,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L50"},"def":{"name":"add_edge","args":[{"name":"from","external_name":"from","restriction":"Int"},{"name":"to","external_name":"to","restriction":"Int"},{"name":"cap","external_name":"cap","restriction":"Cap"}],"return_type":"Int32","visibility":"Public","body":"m = @pos.size\n@pos << {from.to_i32, @graph[from].size}\nfrom_id = @graph[from].size\nto_id = @graph[to].size\nif from == to\n  to_id = to_id + 1\nend\n@graph[from] << (Edge(Cap).new(to.to_i32, to_id, cap))\n@graph[to] << (Edge(Cap).new(from.to_i32, from_id, Cap.zero))\nm\n"}},{"html_id":"change_edge(i:Int,new_cap:Cap,new_flow:Cap)-instance-method","name":"change_edge","doc":"$i$ 番目に変更された辺の容量、流量をそれぞれ `new_cap`, `new_flow` に変更します。\n\n他の辺の容量、流量は変更しません。","summary":"<p>$i$ 番目に変更された辺の容量、流量をそれぞれ <code>new_cap</code>, <code>new_flow</code> に変更します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"new_cap","external_name":"new_cap","restriction":"Cap"},{"name":"new_flow","external_name":"new_flow","restriction":"Cap"}],"args_string":"(i : Int, new_cap : Cap, new_flow : Cap)","args_html":"(i : <a href=\"../Int.html\">Int</a>, new_cap : Cap, new_flow : Cap)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":80,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L80"},"def":{"name":"change_edge","args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"new_cap","external_name":"new_cap","restriction":"Cap"},{"name":"new_flow","external_name":"new_flow","restriction":"Cap"}],"visibility":"Public","body":"@graph[@pos[i].first][@pos[i].second].cap = new_cap - new_flow\n@graph[_e.to][_e.rev].cap = new_flow\n"}},{"html_id":"edges-instance-method","name":"edges","doc":"今の内部の辺の状態を返します。\n\n辺の順番は `add_edge` での追加順と同じです。","summary":"<p>今の内部の辺の状態を返します。</p>","abstract":false,"location":{"filename":"src/nglib/graph/max_flow.cr","line_number":73,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L73"},"def":{"name":"edges","visibility":"Public","body":"Array.new(@pos.size) do |i|\n  get_edge(i)\nend"}},{"html_id":"flow(s:Int,t:Int,flow_limit:Cap)-instance-method","name":"flow","doc":"頂点 $s$ から頂点 $t$ へ流せるだけ流し、流せた量を返します。\n\n複数回呼ぶことも可能ですが、同じ結果を返すわけではありません。\n挙動については以下を参考にしてください。\n- https://atcoder.github.io/ac-library/document_ja/appendix.html\n\n```\nn = 4\ngraph = MaxFlowGraph(Int64).new(n)\ngraph.add_edge(0, 1, 10) # => 0\ngraph.add_edge(1, 2, 2)  # => 1\ngraph.add_edge(0, 2, 5)  # => 2\ngraph.add_edge(1, 3, 6)  # => 3\ngraph.add_edge(2, 3, 3)  # => 4\n\ngraph.flow(0, 3, 6)   # => 6\ngraph.flow(0, 3, 100) # => 9  (本来の挙動であれば 3 を返します。)\n```\nameba:disable Metrics/CyclomaticComplexity","summary":"<p>頂点 $s$ から頂点 $t$ へ流せるだけ流し、流せた量を返します。</p>","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Int"},{"name":"t","external_name":"t","restriction":"Int"},{"name":"flow_limit","external_name":"flow_limit","restriction":"Cap"}],"args_string":"(s : Int, t : Int, flow_limit : Cap)","args_html":"(s : <a href=\"../Int.html\">Int</a>, t : <a href=\"../Int.html\">Int</a>, flow_limit : Cap)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":125,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L125"},"def":{"name":"flow","args":[{"name":"s","external_name":"s","restriction":"Int"},{"name":"t","external_name":"t","restriction":"Int"},{"name":"flow_limit","external_name":"flow_limit","restriction":"Cap"}],"visibility":"Public","body":"level = [0] * @size\niter = [0] * @size\nbfs = -> do\n  level = [-1] * @size\n  level[s] = 0\n  que = Deque(Int32).new([s.to_i32])\n  while !que.empty?\n    v = que.shift\n    @graph[v].each do |e|\n      if (e.cap == 0) || level[e.to] >= 0\n        next\n      end\n      level[e.to] = level[v] + 1\n      if e.to == t\n        next\n      end\n      que << e.to\n    end\n  end\nend\ndfs = uninitialized (Int32, Cap -> Cap)\ndfs = ->(v : Int32, up : Cap) do\n  if v == s\n    return up\n  end\n  res = Cap.zero\n  level_v = level[v]\n  (iter[v]...@graph[v].size).each do |i|\n    e = @graph[v][i]\n    if level_v <= level[e.to] || (@graph[e.to][e.rev].cap == 0)\n      next\n    end\n    d = dfs.call(e.to, Math.min(up - res, @graph[e.to][e.rev].cap))\n    if d <= 0\n      next\n    end\n    __temp_47 = @graph[v][i]\n    __temp_47.cap = __temp_47.cap + d\n    __temp_48 = @graph[e.to][e.rev]\n    __temp_48.cap = __temp_48.cap - d\n    res = res + d\n    if res == up\n      return res\n    end\n  end\n  level[v] = @size\n  res\nend\nres = Cap.zero\nwhile res < flow_limit\n  bfs.call\n  if level[t] == -1\n    break\n  end\n  iter = [0] * @size\n  f = dfs.call(t.to_i32, flow_limit - res)\n  if f == 0\n    break\n  end\n  res = res + f\nend\nres\n"}},{"html_id":"flow(s:Int,t:Int)-instance-method","name":"flow","doc":"頂点 $s$ から頂点 $t$ へ流せるだけ流し、流せた量を返します。\n\n複数回呼ぶことも可能ですが、同じ結果を返すわけではありません。\n挙動については以下を参考にしてください。\n- https://atcoder.github.io/ac-library/document_ja/appendix.html\n\n```\nn = 4\ngraph = MaxFlowGraph(Int64).new(n)\ngraph.add_edge(0, 1, 10) # => 0\ngraph.add_edge(1, 2, 2)  # => 1\ngraph.add_edge(0, 2, 5)  # => 2\ngraph.add_edge(1, 3, 6)  # => 3\ngraph.add_edge(2, 3, 3)  # => 4\n\ngraph.flow(0, 3) # => 9\n```","summary":"<p>頂点 $s$ から頂点 $t$ へ流せるだけ流し、流せた量を返します。</p>","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Int"},{"name":"t","external_name":"t","restriction":"Int"}],"args_string":"(s : Int, t : Int)","args_html":"(s : <a href=\"../Int.html\">Int</a>, t : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":102,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L102"},"def":{"name":"flow","args":[{"name":"s","external_name":"s","restriction":"Int"},{"name":"t","external_name":"t","restriction":"Int"}],"visibility":"Public","body":"flow(s, t, Cap::MAX)"}},{"html_id":"get_edge(i:Int)-instance-method","name":"get_edge","doc":"今の内部の辺の状態を返します。\n\n辺の順番は `add_edge` での追加順と同じです。","summary":"<p>今の内部の辺の状態を返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"}],"args_string":"(i : Int)","args_html":"(i : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":64,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L64"},"def":{"name":"get_edge","args":[{"name":"i","external_name":"i","restriction":"Int"}],"visibility":"Public","body":"e = @graph[@pos[i][0]][@pos[i][1]]\nre = @graph[e.to][e.rev]\n{from: @pos[i][0], to: e.to, cap: e.cap + re.cap, flow: re.cap}\n"}},{"html_id":"min_cut(s:Int)-instance-method","name":"min_cut","doc":"長さ $n$ の配列を返します。\n$i$ 番目の要素には、頂点 $s$ から $i$ へ残余グラフで到達可能なとき、またその時のみ `true` を返します。\n\n`flow(s, t)` を `flow_limit` なしでちょうど一回呼んだ後に呼ぶと、\n返り値は $s, t$ 間の `mincut` に対応します。","summary":"<p>長さ $n$ の配列を返します。 $i$ 番目の要素には、頂点 $s$ から $i$ へ残余グラフで到達可能なとき、またその時のみ <code>true</code> を返します。</p>","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Int"}],"args_string":"(s : Int)","args_html":"(s : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":181,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L181"},"def":{"name":"min_cut","args":[{"name":"s","external_name":"s","restriction":"Int"}],"visibility":"Public","body":"closed = [false] * @size\nque = Deque(Int32).new([s.to_i32])\nif que.empty?\nelse\n  now = que.shift\n  closed[now] = true\n  @graph[now].each do |e|\n    if (e.cap != 0) && (!closed[e.to])\n      closed[e.to] = true\n      que << e.to\n    end\n  end\nend\nclosed\n"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/graph/max_flow.cr","line_number":12,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L12"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}],"types":[{"html_id":"nglib/NgLib/MaxFlowGraph/Edge","path":"NgLib/MaxFlowGraph/Edge.html","kind":"class","full_name":"NgLib::MaxFlowGraph::Edge(T)","name":"Edge","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/max_flow.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L3"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib/MaxFlowGraph","kind":"class","full_name":"NgLib::MaxFlowGraph(Cap)","name":"MaxFlowGraph"},"constructors":[{"html_id":"new(to:Int32,rev:Int32,cap:T)-class-method","name":"new","abstract":false,"args":[{"name":"to","external_name":"to","restriction":"::Int32"},{"name":"rev","external_name":"rev","restriction":"::Int32"},{"name":"cap","external_name":"cap","restriction":"T"}],"args_string":"(to : Int32, rev : Int32, cap : T)","args_html":"(to : Int32, rev : Int32, cap : T)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":8,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L8"},"def":{"name":"new","args":[{"name":"to","external_name":"to","restriction":"::Int32"},{"name":"rev","external_name":"rev","restriction":"::Int32"},{"name":"cap","external_name":"cap","restriction":"T"}],"visibility":"Public","body":"_ = Edge(T).allocate\n_.initialize(to, rev, cap)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"cap:T-instance-method","name":"cap","abstract":false,"location":{"filename":"src/nglib/graph/max_flow.cr","line_number":6,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L6"},"def":{"name":"cap","return_type":"T","visibility":"Public","body":"@cap"}},{"html_id":"cap=(cap:T)-instance-method","name":"cap=","abstract":false,"args":[{"name":"cap","external_name":"cap","restriction":"T"}],"args_string":"(cap : T)","args_html":"(cap : T)","location":{"filename":"src/nglib/graph/max_flow.cr","line_number":6,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L6"},"def":{"name":"cap=","args":[{"name":"cap","external_name":"cap","restriction":"T"}],"visibility":"Public","body":"@cap = cap"}},{"html_id":"rev:Int32-instance-method","name":"rev","abstract":false,"location":{"filename":"src/nglib/graph/max_flow.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L5"},"def":{"name":"rev","return_type":"Int32","visibility":"Public","body":"@rev"}},{"html_id":"to:Int32-instance-method","name":"to","abstract":false,"location":{"filename":"src/nglib/graph/max_flow.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/max_flow.cr#L4"},"def":{"name":"to","return_type":"Int32","visibility":"Public","body":"@to"}}]}]},{"html_id":"nglib/NgLib/MSTGraph","path":"NgLib/MSTGraph.html","kind":"class","full_name":"NgLib::MSTGraph(T)","name":"MSTGraph","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/mst.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L7"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"doc":"$n$ 頂点の重み付きグラフについて、最小/最大全域木を構築します。\n\nKruskal 法による実装です。","summary":"<p>$n$ 頂点の重み付きグラフについて、最小/最大全域木を構築します。</p>","class_methods":[{"html_id":"max(n)-class-method","name":"max","doc":"$n$ 頂点 $0$ 辺のグラフを生成します。\n\n最大全域木を構築します。","summary":"<p>$n$ 頂点 $0$ 辺のグラフを生成します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/nglib/graph/mst.cr","line_number":32,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L32"},"def":{"name":"max","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"new(n) do |a, b|\n  b <=> a\nend"}},{"html_id":"min(n)-class-method","name":"min","doc":"$n$ 頂点 $0$ 辺のグラフを生成します。\n\n最小全域木を構築します。","summary":"<p>$n$ 頂点 $0$ 辺のグラフを生成します。</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/nglib/graph/mst.cr","line_number":25,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L25"},"def":{"name":"min","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"new(n) do |a, b|\n  a <=> b\nend"}}],"constructors":[{"html_id":"new(n)-class-method","name":"new","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/nglib/graph/mst.cr","line_number":11,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L11"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"_ = MSTGraph(T).allocate\n_.initialize(n)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(n,&cmp:T,T->Int32)-class-method","name":"new","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n, &cmp : T, T -> Int32)","args_html":"(n, &cmp : T, T -> Int32)","location":{"filename":"src/nglib/graph/mst.cr","line_number":17,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L17"},"def":{"name":"new","args":[{"name":"n","external_name":"n","restriction":""}],"yields":2,"block_arity":2,"block_arg":{"name":"cmp","external_name":"cmp","restriction":"(T, T -> Int32)"},"visibility":"Public","body":"_ = MSTGraph(T).allocate\n_.initialize(n, &cmp) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(u:Int,v:Int,w:T)-instance-method","name":"add_edge","doc":"グラフに辺 $(u, v, w)$ を追加します。\n\n```\ngraph = MSTGraph(Int64).new(n) { |a, b| a < b }\nm.times { graph.add_edge(u, v, w) }\n```","summary":"<p>グラフに辺 $(u, v, w)$ を追加します。</p>","abstract":false,"args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"T"}],"args_string":"(u : Int, v : Int, w : T)","args_html":"(u : <a href=\"../Int.html\">Int</a>, v : <a href=\"../Int.html\">Int</a>, w : T)","location":{"filename":"src/nglib/graph/mst.cr","line_number":42,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L42"},"def":{"name":"add_edge","args":[{"name":"u","external_name":"u","restriction":"Int"},{"name":"v","external_name":"v","restriction":"Int"},{"name":"w","external_name":"w","restriction":"T"}],"visibility":"Public","body":"@edges << {u.to_i32, v.to_i32, w}"}},{"html_id":"size:Int64-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/graph/mst.cr","line_number":8,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L8"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}},{"html_id":"sum-instance-method","name":"sum","doc":"最小全域木を構成したときの辺の重みの総和求めます。\n\n```\ngraph = MSTGraph(Int64).new(n) { |a, b| a < b }\nm.times { graph.add_edge(u, v, w) }\ngraph.sum\n```","summary":"<p>最小全域木を構成したときの辺の重みの総和求めます。</p>","abstract":false,"location":{"filename":"src/nglib/graph/mst.cr","line_number":53,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/mst.cr#L53"},"def":{"name":"sum","visibility":"Public","body":"@edges.sort! do |a, b|\n  @cmp.call(a[2], b[2])\nend\nut = AtCoder::DSU.new(@size)\nres = T.zero\n@edges.each do |__arg0|\n  u = __arg0[0]\n  v = __arg0[1]\n  w = __arg0[2]\n  if ut.same?(u, v)\n    next\n  end\n  ut.merge(u, v)\n  res = res + w\nend\nres\n"}}]},{"html_id":"nglib/NgLib/RollingHash","path":"NgLib/RollingHash.html","kind":"class","full_name":"NgLib::RollingHash","name":"RollingHash","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/string/rolling_hash.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MOD","name":"MOD","value":"(1_u64 << 61) - 1"}],"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"class_methods":[{"html_id":"create_base-class-method","name":"create_base","doc":"ランダムに基底を生成します。\n\n```\nbase = RollingHash.create_base\nbase # => 1729\n```","summary":"<p>ランダムに基底を生成します。</p>","abstract":false,"location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":62,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L62"},"def":{"name":"create_base","visibility":"Public","body":"rand(628_u64..(MOD - 2))"}},{"html_id":"lcp(rh1:self,rh2:self,i:Int=0,j:Int=0):Int32-class-method","name":"lcp","doc":"`s[i...]` と `t[j...]` の最長共通接頭辞の長さを返します。\n\n$i, j$ はデフォルトで $0$ を渡しています。\n\n```\nrh1 = RollingHash.new(\"missisippi\", base: 628)\nrh2 = RollingHash.new(\"thisisapen\", base: 628)\nRollingHash.lcp(rh1, rh2)       # => 0\nRollingHash.lcp(rh1, rh2, 4, 2) # => 3\n```","summary":"<p><code>s[i...]</code> と <code>t[j...]</code> の最長共通接頭辞の長さを返します。</p>","abstract":false,"args":[{"name":"rh1","external_name":"rh1","restriction":"self"},{"name":"rh2","external_name":"rh2","restriction":"self"},{"name":"i","default_value":"0","external_name":"i","restriction":"Int"},{"name":"j","default_value":"0","external_name":"j","restriction":"Int"}],"args_string":"(rh1 : self, rh2 : self, i : Int = 0, j : Int = 0) : Int32","args_html":"(rh1 : <span class=\"k\">self</span>, rh2 : <span class=\"k\">self</span>, i : <a href=\"../Int.html\">Int</a> = <span class=\"n\">0</span>, j : <a href=\"../Int.html\">Int</a> = <span class=\"n\">0</span>) : Int32","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":189,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L189"},"def":{"name":"lcp","args":[{"name":"rh1","external_name":"rh1","restriction":"self"},{"name":"rh2","external_name":"rh2","restriction":"self"},{"name":"i","default_value":"0","external_name":"i","restriction":"Int"},{"name":"j","default_value":"0","external_name":"j","restriction":"Int"}],"return_type":"Int32","visibility":"Public","body":"rh1.lcp(i, j, rh2)"}}],"constructors":[{"html_id":"new(a:Array(Int),base:UInt64|Nil=nil)-class-method","name":"new","doc":"配列 $a$ に対する、基数が `base` のロリハを構築します。\n\n`base` は指定しない場合、ランダムに生成されます。\n\n```\nrh = RollingHash.new([1, 2, 5, 1, 2])\n```","summary":"<p>配列 $a$ に対する、基数が <code>base</code> のロリハを構築します。</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Array(Int)"},{"name":"base","default_value":"nil","external_name":"base","restriction":"UInt64 | ::Nil"}],"args_string":"(a : Array(Int), base : UInt64 | Nil = nil)","args_html":"(a : Array(<a href=\"../Int.html\">Int</a>), base : UInt64 | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":18,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L18"},"def":{"name":"new","args":[{"name":"a","external_name":"a","restriction":"Array(Int)"},{"name":"base","default_value":"nil","external_name":"base","restriction":"UInt64 | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(a, base)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(s:String,base:UInt64|Nil=nil)-class-method","name":"new","doc":"文字列 $s$ に対する、基数が `base` のロリハを構築します。\n\n`base` は指定しない場合、ランダムに生成されます。\n\n```\nrh = RollingHash.new(\"missisippi\")\n```","summary":"<p>文字列 $s$ に対する、基数が <code>base</code> のロリハを構築します。</p>","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"String"},{"name":"base","default_value":"nil","external_name":"base","restriction":"UInt64 | ::Nil"}],"args_string":"(s : String, base : UInt64 | Nil = nil)","args_html":"(s : String, base : UInt64 | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":29,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L29"},"def":{"name":"new","args":[{"name":"s","external_name":"s","restriction":"String"},{"name":"base","default_value":"nil","external_name":"base","restriction":"UInt64 | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(s, base)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(size:Int32,a:Enumerable,base:UInt64|Nil=nil)-class-method","name":"new","doc":"Enumerable な列 $a$ に対する、基数が base のロリハを構築します。\n\n`base` は指定しない場合、ランダムに生成されます。\n\n```\nrh = RollingHash.new(5, [1, 2, 5, 1, 2])\n```","summary":"<p>Enumerable な列 $a$ に対する、基数が base のロリハを構築します。</p>","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"::Int32"},{"name":"a","external_name":"a","restriction":"Enumerable"},{"name":"base","default_value":"nil","external_name":"base","restriction":"UInt64 | ::Nil"}],"args_string":"(size : Int32, a : Enumerable, base : UInt64 | Nil = nil)","args_html":"(size : Int32, a : Enumerable, base : UInt64 | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":40,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L40"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"::Int32"},{"name":"a","external_name":"a","restriction":"Enumerable"},{"name":"base","default_value":"nil","external_name":"base","restriction":"UInt64 | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(size, a, base)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](range:Range(Int|Nil,Int|Nil)):UInt64-instance-method","name":"[]","doc":"`range` で指定した範囲 `s[range]` のハッシュを返します。\n\n```\nrh = RollingHash.new(\"missisippi\")\nrh[4..5] # => 339225237399054811\nrh[5..6] # => 339225237399054811\n```","summary":"<p><code>range</code> で指定した範囲 <code>s[range]</code> のハッシュを返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : UInt64","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : UInt64","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":138,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L138"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"UInt64","visibility":"Public","body":"slice(range)"}},{"html_id":"concat(h1:UInt64,h2:UInt64,h2_len:Int):UInt64-instance-method","name":"concat","doc":"ハッシュ値 $h_1$ とハッシュ値 $h_2$ を結合したときのハッシュ値を返します。\n\nハッシュ値 $h_2$ の元々の長さを渡す必要があります。\n\n```\nrh = RollingHash.new(\"missisippi\")\nh1 = rh[1..2] # \"is\"\nh2 = rh[5..6] # \"si\"\nh = rh.concat(h1, h2, h2_len: 2)\nh == rh.[1..4] # => true\n```","summary":"<p>ハッシュ値 $h_1$ とハッシュ値 $h_2$ を結合したときのハッシュ値を返します。</p>","abstract":false,"args":[{"name":"h1","external_name":"h1","restriction":"UInt64"},{"name":"h2","external_name":"h2","restriction":"UInt64"},{"name":"h2_len","external_name":"h2_len","restriction":"Int"}],"args_string":"(h1 : UInt64, h2 : UInt64, h2_len : Int) : UInt64","args_html":"(h1 : UInt64, h2 : UInt64, h2_len : <a href=\"../Int.html\">Int</a>) : UInt64","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":153,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L153"},"def":{"name":"concat","args":[{"name":"h1","external_name":"h1","restriction":"UInt64"},{"name":"h2","external_name":"h2","restriction":"UInt64"},{"name":"h2_len","external_name":"h2_len","restriction":"Int"}],"return_type":"UInt64","visibility":"Public","body":"res = (mul(h1, @power[h2_len])) + h2\nres < MOD ? res : res - MOD\n"}},{"html_id":"hash(s:String)-instance-method","name":"hash","doc":"文字列 $s$ のハッシュを返します。\n\n```\nrh = RollingHash.new(\"missisippi\")\nrh.hash(\"is\")  # => 339225237399054811\nrh.hash(\"abc\") # => 496222201481864933\n```","summary":"<p>文字列 $s$ のハッシュを返します。</p>","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"String"}],"args_string":"(s : String)","args_html":"(s : String)","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":84,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L84"},"def":{"name":"hash","args":[{"name":"s","external_name":"s","restriction":"String"}],"visibility":"Public","body":"hash(s.bytes)"}},{"html_id":"hash(s:Enumerable)-instance-method","name":"hash","doc":"列 $s$ のハッシュを返します。\n\n```\nrh = RollingHash.new(\"missisippi\")\nrh.hash(\"is\")  # => 339225237399054811\nrh.hash(\"abc\") # => 496222201481864933\n```","summary":"<p>列 $s$ のハッシュを返します。</p>","abstract":false,"args":[{"name":"s","external_name":"s","restriction":"Enumerable"}],"args_string":"(s : Enumerable)","args_html":"(s : Enumerable)","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":95,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L95"},"def":{"name":"hash","args":[{"name":"s","external_name":"s","restriction":"Enumerable"}],"visibility":"Public","body":"s.reduce(0_u64) do |acc, ti|\n  (mul(acc, @base)) + ti.to_u64\nend"}},{"html_id":"hash:UInt64-instance-method","name":"hash","doc":"初期化時に使用した列に対するハッシュを返します。\n\n```\nrh = RollingHash.new(\"missisippi\")\nrh.hash               # => 339225237399054811\nrh.hash(\"missisippi\") # => 339225237399054811\n```","summary":"<p>初期化時に使用した列に対するハッシュを返します。</p>","abstract":false,"location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":73,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L73"},"def":{"name":"hash","return_type":"UInt64","visibility":"Public","body":"@selfhash"}},{"html_id":"index(t:String,offset:Int=0):Int32|Nil-instance-method","name":"index","doc":"文字列検索を行います。\n\n`s[offset..]` から `t` と一致する初めての添字を返します。\n添字は `s` が基準です。また、`offset` が加算された値が返ります。\n\n存在しない場合は `nil` を返します。\n\n```\nrh = RollingHash.new(\"missisippi\", base: 628)\nrh.index(\"is\")            # => 1\nrh.index(\"is\", offset: 4) # => 4\nrh.index(\"mid\")           # => nil\nrh.index(\"i\")             # => 1\nrh.index(\"pi\")            # => 8\n```","summary":"<p>文字列検索を行います。</p>","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"String"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"args_string":"(t : String, offset : Int = 0) : Int32 | Nil","args_html":"(t : String, offset : <a href=\"../Int.html\">Int</a> = <span class=\"n\">0</span>) : Int32 | Nil","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":208,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L208"},"def":{"name":"index","args":[{"name":"t","external_name":"t","restriction":"String"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"return_type":"Int32 | ::Nil","visibility":"Public","body":"index(t.bytes, offset)"}},{"html_id":"index(t:Enumerable,offset:Int=0):Int32|Nil-instance-method","name":"index","doc":"検索を行います。\n\n`s[offset..]` から `t` と一致する初めての添字を返します。\n添字は `s` が基準です。また、`offset` が加算された値が返ります。\n\n存在しない場合は `nil` を返します。\n\n```\nrh = RollingHash.new(\"missisippi\", base: 628)\nrh.index(\"is\")            # => 1\nrh.index(\"is\", offset: 4) # => 4\nrh.index(\"mid\")           # => nil\nrh.index(\"i\")             # => 1\nrh.index(\"pi\")            # => 8\n```","summary":"<p>検索を行います。</p>","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"Enumerable"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"args_string":"(t : Enumerable, offset : Int = 0) : Int32 | Nil","args_html":"(t : Enumerable, offset : <a href=\"../Int.html\">Int</a> = <span class=\"n\">0</span>) : Int32 | Nil","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":227,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L227"},"def":{"name":"index","args":[{"name":"t","external_name":"t","restriction":"Enumerable"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"return_type":"Int32 | ::Nil","visibility":"Public","body":"ths = hash(t)\nt_len = t.size\nres = (offset..(@size - t.size)).index do |i|\n  ths == (substr(i, t_len))\nend\nres ? res.not_nil! + offset : nil\n"}},{"html_id":"index!(t:String,offset:Int=0):Int32-instance-method","name":"index!","doc":"文字列検索を行います。\n\n`s[offset..]` から `t` と一致する初めての添字を返します。\n添字は `s` が基準です。また、`offset` が加算された値が返ります。\n\n存在しない場合は例外を投げます。\n\n```\nrh = RollingHash.new(\"missisippi\", base: 628)\nrh.index!(\"is\")            # => 1\nrh.index!(\"is\", offset: 4) # => 4\nrh.index!(\"mid\")           # => Enumerable::NotFoundError\nrh.index!(\"i\")             # => 1\nrh.index!(\"pi\")            # => 8\n```","summary":"<p>文字列検索を行います。</p>","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"String"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"args_string":"(t : String, offset : Int = 0) : Int32","args_html":"(t : String, offset : <a href=\"../Int.html\">Int</a> = <span class=\"n\">0</span>) : Int32","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":249,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L249"},"def":{"name":"index!","args":[{"name":"t","external_name":"t","restriction":"String"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"return_type":"Int32","visibility":"Public","body":"index!(t.bytes, offset)"}},{"html_id":"index!(t:Enumerable,offset:Int=0):Int32-instance-method","name":"index!","doc":"検索を行います。\n\n`s[offset..]` から `t` と一致する初めての添字を返します。\n添字は `s` が基準です。また、`offset` が加算された値が返ります。\n\n存在しない場合は例外を投げます。\n\n```\nrh = RollingHash.new(\"missisippi\", base: 628)\nrh.index!(\"is\")            # => 1\nrh.index!(\"is\", offset: 4) # => 4\nrh.index!(\"mid\")           # => Enumerable::NotFoundError\nrh.index!(\"i\")             # => 1\nrh.index!(\"pi\")            # => 8\n```","summary":"<p>検索を行います。</p>","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"Enumerable"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"args_string":"(t : Enumerable, offset : Int = 0) : Int32","args_html":"(t : Enumerable, offset : <a href=\"../Int.html\">Int</a> = <span class=\"n\">0</span>) : Int32","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":268,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L268"},"def":{"name":"index!","args":[{"name":"t","external_name":"t","restriction":"Enumerable"},{"name":"offset","default_value":"0","external_name":"offset","restriction":"Int"}],"return_type":"Int32","visibility":"Public","body":"ths = 0_u64\nt.each do |ti|\n  ths = (mul(ths, @base)) + ti.to_u64\nend\nt_len = t.size\n(offset..(@size - t.size)).index! do |i|\n  ths == (substr(i, t_len))\nend + offset\n"}},{"html_id":"lcp(i:Int,j:Int,other=self):Int32-instance-method","name":"lcp","doc":"`s[i...]` と `other[j...]` の最長共通接頭辞の長さを返します。\n\n`other` はデフォルトで自分自身を渡しています。\n自分自身以外を渡す場合は $(mod, base)$ が一致している必要があります。\n\n```\nrh1 = RollingHash.new(\"missisippi\")\nrh1 = rh1.lcp(3, 5) # => 2\nrh1 = rh1.lcp(0, 1) # => 0\n```","summary":"<p><code>s[i...]</code> と <code>other[j...]</code> の最長共通接頭辞の長さを返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"j","external_name":"j","restriction":"Int"},{"name":"other","default_value":"self","external_name":"other","restriction":""}],"args_string":"(i : Int, j : Int, other = self) : Int32","args_html":"(i : <a href=\"../Int.html\">Int</a>, j : <a href=\"../Int.html\">Int</a>, other = <span class=\"k\">self</span>) : Int32","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":168,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L168"},"def":{"name":"lcp","args":[{"name":"i","external_name":"i","restriction":"Int"},{"name":"j","external_name":"j","restriction":"Int"},{"name":"other","default_value":"self","external_name":"other","restriction":""}],"return_type":"Int32","visibility":"Public","body":"length = Math.min(@hash.size - i, @hash.size - j)\nok = length - (1..length).bsearch do |len|\n  l = length - len\n  self.substr(start: i, length: l) == other.substr(start: j, length: l)\nend.not_nil!\nok.to_i32\n"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L5"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}},{"html_id":"slice(range:Range(Int|Nil,Int|Nil)):UInt64-instance-method","name":"slice","doc":"`range` で指定した範囲 `s[range]` のハッシュを返します。\n\n```\nrh = RollingHash.new(\"missisippi\")\nrh.slice(4..5) # => 339225237399054811\nrh.slice(5..6) # => 339225237399054811\n```","summary":"<p><code>range</code> で指定した範囲 <code>s[range]</code> のハッシュを返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : UInt64","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : UInt64","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":118,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L118"},"def":{"name":"slice","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"UInt64","visibility":"Public","body":"left = (range.begin || 0)\nright = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nlength = right - left\nsubstr(start: left, length: length)\n"}},{"html_id":"substr(start:Int,length:Int):UInt64-instance-method","name":"substr","doc":"`s[start...start + length]` のハッシュを返します。\n\n```\nrh = RollingHash.new(\"missisippi\")\nrh.substr(4, length: 2) # => 339225237399054811\nrh.substr(5, length: 2) # => 339225237399054811\n```","summary":"<p><code>s[start...start + length]</code> のハッシュを返します。</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"length","external_name":"length","restriction":"Int"}],"args_string":"(start : Int, length : Int) : UInt64","args_html":"(start : <a href=\"../Int.html\">Int</a>, length : <a href=\"../Int.html\">Int</a>) : UInt64","location":{"filename":"src/nglib/string/rolling_hash.cr","line_number":106,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/string/rolling_hash.cr#L106"},"def":{"name":"substr","args":[{"name":"start","external_name":"start","restriction":"Int"},{"name":"length","external_name":"length","restriction":"Int"}],"return_type":"UInt64","visibility":"Public","body":"res = (@hash[start + length] + MOD) - (mul(@hash[start], @power[length]))\nres < MOD ? res : res - MOD\n"}}]},{"html_id":"nglib/NgLib/SlideMinmax","path":"NgLib/SlideMinmax.html","kind":"class","full_name":"NgLib::SlideMinmax(T)","name":"SlideMinmax","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data_structure/slide_minmax.cr","line_number":16,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/slide_minmax.cr#L16"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"doc":"データ列 $a$ に対して、$\\min(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を、\n前計算 $O(N)$ クエリが $O(1)$ 求めるためのデータ構造です。\n\nセグメント木やSparseTableと異なり、区間長が固定の範囲でしかクエリに答えられませんが高速です。\n\n`query(i)` で $[i, i + \\mathrm{length})$ が配列の範囲を超えたとき、$[i, \\mathrm{a.size})$ だと思って計算します。\n\nもし、`query(i)` で $[i - \\mathrm{length}, i)$ が求まってほしい場合は、`a = ([eins] * length) + a` としておけば良いです。\n範囲外の場合は $[0, i)$ だと思って計算されます。\n\nなお、$[0, 0)$ の場合は単位元が返ります。\n\nもし、query(i) で $[i - \\mathrm{length}, i]$ が求まってほしい場合は、`a = ([eins] * (length - 1)) + a` としておけば良いです。\n範囲外の場合は $[0, i]$ だと思って計算されます。","summary":"<p>データ列 $a$ に対して、$\\min(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を、 前計算 $O(N)$ クエリが $O(1)$ 求めるためのデータ構造です。</p>","class_methods":[{"html_id":"max(a:Array(T),length:Int)-class-method","name":"max","doc":"データ列 $a$ に対して、$\\max(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めるためのデータ構造を構築します。\n\n```\nrmq = SlideMinmax(Int32).max([2, 7, 3, 4, 6], 3)\n```","summary":"<p>データ列 $a$ に対して、$\\max(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めるためのデータ構造を構築します。</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"length","external_name":"length","restriction":"Int"}],"args_string":"(a : Array(T), length : Int)","args_html":"(a : Array(T), length : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/data_structure/slide_minmax.cr","line_number":34,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/slide_minmax.cr#L34"},"def":{"name":"max","args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"length","external_name":"length","restriction":"Int"}],"visibility":"Public","body":"new(a, length, T::MIN) do |lhs, rhs|\n  lhs >= rhs\nend"}},{"html_id":"min(a:Array(T),length:Int)-class-method","name":"min","doc":"データ列 $a$ に対して、$\\min(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めるためのデータ構造を構築します。\n\n```\nrmq = SlideMinmax(Int32).min([2, 7, 3, 4, 6], 3)\n```","summary":"<p>データ列 $a$ に対して、$\\min(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めるためのデータ構造を構築します。</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"length","external_name":"length","restriction":"Int"}],"args_string":"(a : Array(T), length : Int)","args_html":"(a : Array(T), length : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/nglib/data_structure/slide_minmax.cr","line_number":25,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/slide_minmax.cr#L25"},"def":{"name":"min","args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"length","external_name":"length","restriction":"Int"}],"visibility":"Public","body":"new(a, length, T::MAX) do |lhs, rhs|\n  lhs <= rhs\nend"}}],"constructors":[{"html_id":"new(a:Array(T),length:Int,eins:T,&cmp:T,T->Bool)-class-method","name":"new","doc":"データ列 $a$ に対して、$cmp(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めるためのデータ構造を構築します。\n\n`eins` には `@cmp` に対する単位元を渡してください。\n\nこの API は非推奨です。`self.min` または `self.max` を使用してください。\n\n```\nrmq = SlideMinmax(Int32).new([2, 7, 3, 4, 6], 3) { |a, b| a <= b } # => min query\n```","summary":"<p>データ列 $a$ に対して、$cmp(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めるためのデータ構造を構築します。</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"length","external_name":"length","restriction":"Int"},{"name":"eins","external_name":"eins","restriction":"T"}],"args_string":"(a : Array(T), length : Int, eins : T, &cmp : T, T -> Bool)","args_html":"(a : Array(T), length : <a href=\"../Int.html\">Int</a>, eins : T, &cmp : T, T -> Bool)","location":{"filename":"src/nglib/data_structure/slide_minmax.cr","line_number":47,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/slide_minmax.cr#L47"},"def":{"name":"new","args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"length","external_name":"length","restriction":"Int"},{"name":"eins","external_name":"eins","restriction":"T"}],"yields":2,"block_arity":2,"block_arg":{"name":"cmp","external_name":"cmp","restriction":"(T, T -> Bool)"},"visibility":"Public","body":"_ = SlideMinmax(T).allocate\n_.initialize(a, length, eins, &cmp) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"query(i:Int):T-instance-method","name":"query","doc":"$[i, i + \\mathrm{length})$ の範囲の総積 $cmp(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めます。\n\n$i + \\mathrm{length}$ が $a$ のサイズを超える場合は、$[i, \\mathrm{a.size})$ で求めます。\n\n```\nrmq = SlideMinmax(Int32).min([2, 7, 3, 4, 6], 3)\nrmq.query(0) # => 2\nrmq.query(1) # => 3\nrmq.query(2) # => 3\nrmq.query(3) # => 4\nrmq.query(4) # => 6\n```","summary":"<p>$[i, i + \\mathrm{length})$ の範囲の総積 $cmp(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めます。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"}],"args_string":"(i : Int) : T","args_html":"(i : <a href=\"../Int.html\">Int</a>) : T","location":{"filename":"src/nglib/data_structure/slide_minmax.cr","line_number":79,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/slide_minmax.cr#L79"},"def":{"name":"query","args":[{"name":"i","external_name":"i","restriction":"Int"}],"return_type":"T","visibility":"Public","body":"@data[i]"}},{"html_id":"query?(i:Int):T|Nil-instance-method","name":"query?","doc":"$[i, i + \\mathrm{length})$ の範囲の総積 $cmp(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めます。\n\n$i + \\mathrm{length}$ が $a$ のサイズを超える場合は、$[i, \\mathrm{a.size})$ で求めます。\n\n配列外参照の場合は `nil` を返します。\n\n```\nrmq = SlideMinmax(Int32).min([2, 7, 3, 4, 6], 3)\nrmq.query?(0)   # => 2\nrmq.query?(1)   # => 3\nrmq.query?(2)   # => 3\nrmq.query?(3)   # => 4\nrmq.query?(4)   # => 6\nrmq.query?(100) # => nil\n```","summary":"<p>$[i, i + \\mathrm{length})$ の範囲の総積 $cmp(a_i, a_{i + 1}, \\dots, a_{i + \\mathrm{length} - 1})$ を求めます。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":"Int"}],"args_string":"(i : Int) : T | Nil","args_html":"(i : <a href=\"../Int.html\">Int</a>) : T | Nil","location":{"filename":"src/nglib/data_structure/slide_minmax.cr","line_number":98,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/slide_minmax.cr#L98"},"def":{"name":"query?","args":[{"name":"i","external_name":"i","restriction":"Int"}],"return_type":"T | ::Nil","visibility":"Public","body":"@data[i]?"}}]},{"html_id":"nglib/NgLib/SparseTable","path":"NgLib/SparseTable.html","kind":"class","full_name":"NgLib::SparseTable(T)","name":"SparseTable","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L7"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"doc":"不変な数列 $A$ について、以下の条件を満たす演算を、区間クエリとして処理します。\n- 結合則 : $(x \\oplus y) \\oplus z = x \\oplus (y \\oplus z)$\n- 冪等性 : $x \\oplus x = x$\n\n前計算は $O(N \\log{N})$ かかりますが、区間クエリには $O(1)$ で答えられます。","summary":"<p>不変な数列 $A$ について、以下の条件を満たす演算を、区間クエリとして処理します。 - 結合則 : $(x \\oplus y) \\oplus z = x \\oplus (y \\oplus z)$ - 冪等性 : $x \\oplus x = x$</p>","class_methods":[{"html_id":"bitwise_and(elems:Enumerable(T))-class-method","name":"bitwise_and","doc":"$\\oplus = \\mathrm{bitwise-and}$ としてデータ構造を構築します。","summary":"<p>$\\oplus = \\mathrm{bitwise-and}$ としてデータ構造を構築します。</p>","abstract":false,"args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"args_string":"(elems : Enumerable(T))","args_html":"(elems : Enumerable(T))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":30,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L30"},"def":{"name":"bitwise_and","args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"visibility":"Public","body":"new(elems, ->(x : T, y : T) do\n  x & y\nend)"}},{"html_id":"bitwise_or(elems:Enumerable(T))-class-method","name":"bitwise_or","doc":"$\\oplus = \\mathrm{bitwise-or}$ としてデータ構造を構築します。","summary":"<p>$\\oplus = \\mathrm{bitwise-or}$ としてデータ構造を構築します。</p>","abstract":false,"args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"args_string":"(elems : Enumerable(T))","args_html":"(elems : Enumerable(T))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":25,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L25"},"def":{"name":"bitwise_or","args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"visibility":"Public","body":"new(elems, ->(x : T, y : T) do\n  x | y\nend)"}},{"html_id":"gcd(elems:Enumerable(T))-class-method","name":"gcd","doc":"$\\oplus = \\mathrm{gcd}$ としてデータ構造を構築します。","summary":"<p>$\\oplus = \\mathrm{gcd}$ としてデータ構造を構築します。</p>","abstract":false,"args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"args_string":"(elems : Enumerable(T))","args_html":"(elems : Enumerable(T))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":35,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L35"},"def":{"name":"gcd","args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"visibility":"Public","body":"new(elems, ->(x : T, y : T) do\n  x.gcd(y)\nend)"}},{"html_id":"max(elems:Enumerable(T))-class-method","name":"max","doc":"$\\oplus = \\max$ としてデータ構造を構築します。","summary":"<p>$\\oplus = \\max$ としてデータ構造を構築します。</p>","abstract":false,"args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"args_string":"(elems : Enumerable(T))","args_html":"(elems : Enumerable(T))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":15,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L15"},"def":{"name":"max","args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"visibility":"Public","body":"new(elems, ->(x : T, y : T) do\n  x > y ? x : y\nend)"}},{"html_id":"min(elems:Enumerable(T))-class-method","name":"min","doc":"$\\oplus = \\min$ としてデータ構造を構築します。","summary":"<p>$\\oplus = \\min$ としてデータ構造を構築します。</p>","abstract":false,"args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"args_string":"(elems : Enumerable(T))","args_html":"(elems : Enumerable(T))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":20,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L20"},"def":{"name":"min","args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"}],"visibility":"Public","body":"new(elems, ->(x : T, y : T) do\n  x < y ? x : y\nend)"}}],"constructors":[{"html_id":"new(elems:Enumerable(T),op:T,T->T)-class-method","name":"new","doc":"$\\oplus = op$ としてデータ構造を構築します。","summary":"<p>$\\oplus = op$ としてデータ構造を構築します。</p>","abstract":false,"args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"},{"name":"op","external_name":"op","restriction":"(T, T -> T)"}],"args_string":"(elems : Enumerable(T), op : T, T -> T)","args_html":"(elems : Enumerable(T), op : T, T -> T)","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":40,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L40"},"def":{"name":"new","args":[{"name":"elems","external_name":"elems","restriction":"Enumerable(T)"},{"name":"op","external_name":"op","restriction":"(T, T -> T)"}],"visibility":"Public","body":"_ = SparseTable(T).allocate\n_.initialize(elems, op)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](range:Range(Int|Nil,Int|Nil))-instance-method","name":"[]","doc":"`prod` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/SparseTable.html#prod%28range%3ARange%28Int%7CNil%2CInt%7CNil%29%29-instance-method\">#prod</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil))","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":113,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L113"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"visibility":"Public","body":"prod(range)"}},{"html_id":"[](i)-instance-method","name":"[]","doc":"$a_i$ を返します。","summary":"<p>$a_i$ を返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":""}],"args_string":"(i)","args_html":"(i)","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":101,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L101"},"def":{"name":"[]","args":[{"name":"i","external_name":"i","restriction":""}],"visibility":"Public","body":"@data[i]"}},{"html_id":"[]?(range:Range(Int|Nil,Int|Nil))-instance-method","name":"[]?","doc":"`prod?` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/SparseTable.html#prod%3F%28range%3ARange%28Int%7CNil%2CInt%7CNil%29%29-instance-method\">#prod?</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil))","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":118,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L118"},"def":{"name":"[]?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"visibility":"Public","body":"prod?(range)"}},{"html_id":"[]?(i)-instance-method","name":"[]?","doc":"$a_i$ を返します。\n\n添字が範囲外のとき、`nil` を返します。","summary":"<p>$a_i$ を返します。</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":""}],"args_string":"(i)","args_html":"(i)","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":108,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L108"},"def":{"name":"[]?","args":[{"name":"i","external_name":"i","restriction":""}],"visibility":"Public","body":"@data[i]?"}},{"html_id":"prod(range:Range(Int|Nil,Int|Nil))-instance-method","name":"prod","doc":"`range` の表す範囲の要素の総積 $\\bigoplus_{i \\in range} a_i$ を返します。\n\n```\nrmq = SparseTable(Int32).min([2, 7, 1, 8, 1])\nrmq.prod(0...3) # => 1\n```","summary":"<p><code>range</code> の表す範囲の要素の総積 $\\bigoplus_{i \\in range} a_i$ を返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil))","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":68,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L68"},"def":{"name":"prod","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nb = @lookup[r - l]\n@op.call(@table[b][l], @table[b][r - (1 << b)])\n"}},{"html_id":"prod?(range:Range(Int|Nil,Int|Nil))-instance-method","name":"prod?","doc":"`range` の表す範囲の要素の総積 $\\bigoplus_{i \\in range} a_i$ を返します。\n\n$0 \\leq l \\leq r \\leq n$ を満たさないとき、`nil` を返します。\n\n```\nrmq = SparseTable(Int32).min([2, 7, 1, 8, 1])\nrmq.prod(0...3) # => 1\n```","summary":"<p><code>range</code> の表す範囲の要素の総積 $\\bigoplus_{i \\in range} a_i$ を返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil))","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil))","location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":88,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L88"},"def":{"name":"prod?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nif (0 <= l && l <= r) && r <= @size\nelse\n  return nil\nend\nprod(range)\n"}},{"html_id":"size:Int32-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/data_structure/sparse_table.cr","line_number":8,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/sparse_table.cr#L8"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@size"}}]},{"html_id":"nglib/NgLib/StaticRangeFrequency","path":"NgLib/StaticRangeFrequency.html","kind":"class","full_name":"NgLib::StaticRangeFrequency(T)","name":"StaticRangeFrequency","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data_structure/static_range_frequency.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_frequency.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"doc":"長さ $n$ の整数列 $a_0, a_1, \\cdots, $a_{n-1}$ について、\n$[l, r)$ に $x$ が何回現れるかを $O(\\log{N})$ で計算するクラスです。","summary":"<p>長さ $n$ の整数列 $a_0, a_1, \\cdots, $a_{n-1}$ について、 $[l, r)$ に $x$ が何回現れるかを $O(\\log{N})$ で計算するクラスです。</p>","constructors":[{"html_id":"new(array:Array(T))-class-method","name":"new","abstract":false,"args":[{"name":"array","external_name":"array","restriction":"Array(T)"}],"args_string":"(array : Array(T))","args_html":"(array : Array(T))","location":{"filename":"src/nglib/data_structure/static_range_frequency.cr","line_number":8,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_frequency.cr#L8"},"def":{"name":"new","args":[{"name":"array","external_name":"array","restriction":"Array(T)"}],"visibility":"Public","body":"_ = StaticRangeFrequency(T).allocate\n_.initialize(array)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"query(range:Range(Int|Nil,Int|Nil),x:T)-instance-method","name":"query","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x","external_name":"x","restriction":"T"}],"args_string":"(range : Range(Int | Nil, Int | Nil), x : T)","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x : T)","location":{"filename":"src/nglib/data_structure/static_range_frequency.cr","line_number":17,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_frequency.cr#L17"},"def":{"name":"query","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x","external_name":"x","restriction":"T"}],"visibility":"Public","body":"left = (range.begin || 0).to_i32\nright = if range.end.nil?\n  @size\nelse\n  (range.end.not_nil! + (range.exclusive? ? 0 : 1)).to_i32\nend\nv = @map.fetch(x, [] of Int32)\n(lower_bound(v, right)) - (lower_bound(v, left))\n"}}]},{"html_id":"nglib/NgLib/StaticRangeSum","path":"NgLib/StaticRangeSum.html","kind":"class","full_name":"NgLib::StaticRangeSum(T)","name":"StaticRangeSum","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L3"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"doc":"不変な数列 $A$ に対して、$\\sum_{i=l}^{r-1} A_i$ を前計算 $O(N)$ クエリ $O(1)$ で求めます。","summary":"<p>不変な数列 $A$ に対して、$\\sum_{i=l}^{r-1} A_i$ を前計算 $O(N)$ クエリ $O(1)$ で求めます。</p>","constructors":[{"html_id":"new(array:Array(T))-class-method","name":"new","doc":"配列 `array` に対して累積和を構築します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\n```","summary":"<p>配列 <code>array</code> に対して累積和を構築します。</p>","abstract":false,"args":[{"name":"array","external_name":"array","restriction":"Array(T)"}],"args_string":"(array : Array(T))","args_html":"(array : Array(T))","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L13"},"def":{"name":"new","args":[{"name":"array","external_name":"array","restriction":"Array(T)"}],"visibility":"Public","body":"_ = StaticRangeSum(T).allocate\n_.initialize(array)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](l,r):T-instance-method","name":"[]","doc":"`get(l : Int, r : Int)` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%28l%2Cr%29%3AT-instance-method\">#get(l : Int, r : Int)</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":85,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L85"},"def":{"name":"[]","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"get(l, r)"}},{"html_id":"[](range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"[]","doc":"`get(range : Range(Int?, Int?))` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%28l%2Cr%29%3AT-instance-method\">#get(range : Range(Int?, Int?))</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":90,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L90"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"get(range)"}},{"html_id":"[]?(l,r):T|Nil-instance-method","name":"[]?","doc":"`get(l : Int, r : Int)` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%28l%2Cr%29%3AT-instance-method\">#get(l : Int, r : Int)</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T | Nil","args_html":"(l, r) : T | Nil","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":95,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L95"},"def":{"name":"[]?","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(l, r)"}},{"html_id":"[]?(range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"[]?","doc":"`get?(range : Range(Int?, Int?))` へのエイリアスです。","summary":"<p><code><a href=\"../NgLib/StaticRangeSum.html#get%3F%28l%2Cr%29%3AT%7CNil-instance-method\">#get?(range : Range(Int?, Int?))</a></code> へのエイリアスです。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":100,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L100"},"def":{"name":"[]?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(range)"}},{"html_id":"csum:Array(T)-instance-method","name":"csum","abstract":false,"location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L5"},"def":{"name":"csum","return_type":"Array(T)","visibility":"Public","body":"@csum"}},{"html_id":"get(l,r):T-instance-method","name":"get","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":26,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L26"},"def":{"name":"get","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"if l <= r\nelse\n  raise(IndexError.new(\"`l` must be less than or equal to `r` (#{l}, #{r})\"))\nend\n@csum[r] - @csum[l]\n"}},{"html_id":"get(range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":32,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L32"},"def":{"name":"get","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nget(l, r)\n"}},{"html_id":"get!(l,r):T-instance-method","name":"get!","doc":"$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。","summary":"<p>$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T","args_html":"(l, r) : T","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":69,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L69"},"def":{"name":"get!","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T","visibility":"Public","body":"@csum[r] - @csum[l]"}},{"html_id":"get!(range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get!","doc":"$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。","summary":"<p>$\\sum_{i=1}^{r - 1} a_i - \\sum_{i=1}^{l} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":74,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L74"},"def":{"name":"get!","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nget!(l, r)\n"}},{"html_id":"get?(l,r):T|Nil-instance-method","name":"get?","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n$l \\leq r$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.get?(7...5) # => nil\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"args_string":"(l, r) : T | Nil","args_html":"(l, r) : T | Nil","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":52,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L52"},"def":{"name":"get?","args":[{"name":"l","external_name":"l","restriction":""},{"name":"r","external_name":"r","restriction":""}],"return_type":"T | ::Nil","visibility":"Public","body":"if l <= r\nelse\n  return nil\nend\nget(l, r)\n"}},{"html_id":"get?(range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"get?","doc":"$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。\n\n$l \\leq r$ を満たさないとき、`nil` を返します。\n\n```\narray = [1, 1, 2, 3, 5, 8, 13]\ncsum = StaticRangeSum(Int32).new(array)\ncsum.get?(0...5) # => 1 + 1 + 2 + 3 + 5 = 12\ncsum.get?(7...5) # => nil\n```","summary":"<p>$[l, r)$ 番目までの要素の総和 $\\sum_{i=l}^{r-1} a_i$ を $O(1)$ で返します。</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":58,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L58"},"def":{"name":"get?","args":[{"name":"range","external_name":"range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"l = (range.begin || 0)\nr = if range.end.nil?\n  @size\nelse\n  range.end.not_nil! + (range.exclusive? ? 0 : 1)\nend\nget?(l, r)\n"}},{"html_id":"size:Int64-instance-method","name":"size","abstract":false,"location":{"filename":"src/nglib/data_structure/static_range_sum.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_range_sum.cr#L4"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}}]},{"html_id":"nglib/NgLib/StaticRectangleSum","path":"NgLib/StaticRectangleSum.html","kind":"class","full_name":"NgLib::StaticRectangleSum(T)","name":"StaticRectangleSum","abstract":false,"superclass":{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"nglib/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":2,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L2"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"new(grid:Array(Array(T)))-class-method","name":"new","abstract":false,"args":[{"name":"grid","external_name":"grid","restriction":"Array(Array(T))"}],"args_string":"(grid : Array(Array(T)))","args_html":"(grid : Array(Array(T)))","location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L7"},"def":{"name":"new","args":[{"name":"grid","external_name":"grid","restriction":"Array(Array(T))"}],"visibility":"Public","body":"_ = StaticRectangleSum(T).allocate\n_.initialize(grid)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"[]","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":93,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L93"},"def":{"name":"[]","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"get(y_range, x_range)"}},{"html_id":"[]?(y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"[]?","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":97,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L97"},"def":{"name":"[]?","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"get?(y_range, x_range)"}},{"html_id":"csum:Array(Array(T))-instance-method","name":"csum","abstract":false,"location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":5,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L5"},"def":{"name":"csum","return_type":"Array(Array(T))","visibility":"Public","body":"@csum"}},{"html_id":"get(y_begin:Int,y_end:Int,x_begin:Int,x_end:Int):T-instance-method","name":"get","doc":"累積和を返します。\n\n[y_begin, y_end), [x_begin, x_end) で指定します。\n\nNOTE: このAPIは非推奨です。Rangeで指定することが推奨されます。","summary":"<p>累積和を返します。</p>","abstract":false,"args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"args_string":"(y_begin : Int, y_end : Int, x_begin : Int, x_end : Int) : T","args_html":"(y_begin : <a href=\"../Int.html\">Int</a>, y_end : <a href=\"../Int.html\">Int</a>, x_begin : <a href=\"../Int.html\">Int</a>, x_end : <a href=\"../Int.html\">Int</a>) : T","location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":23,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L23"},"def":{"name":"get","args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"return_type":"T","visibility":"Public","body":"if y_begin <= y_end\nelse\n  raise(IndexError.new(\"`y_begin` must be less than or equal to `y_end` (#{y_begin}, #{y_end})\"))\nend\nif x_begin <= x_end\nelse\n  raise(IndexError.new(\"`x_begin` must be less than or equal to `x_end` (#{x_begin}, #{x_end})\"))\nend\n((@csum[y_end][x_end] - @csum[y_begin][x_end]) - @csum[y_end][x_begin]) + @csum[y_begin][x_begin]\n"}},{"html_id":"get(y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T-instance-method","name":"get","doc":"累積和を取得します。\n\nRange(y_begin, y_end), Range(x_begin, x_end) で指定します。\n\n```\ncsum = StaticRectangleSum.new(a)\ncsum.get(0...h, j..j + 2) # => 28\n```","summary":"<p>累積和を取得します。</p>","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T","location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":50,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L50"},"def":{"name":"get","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T","visibility":"Public","body":"y_begin = (y_range.begin || 0)\ny_end = if y_range.end.nil?\n  @height\nelse\n  y_range.end.not_nil! + (y_range.exclusive? ? 0 : 1)\nend\nx_begin = (x_range.begin || 0)\nx_end = if x_range.end.nil?\n  @width\nelse\n  x_range.end.not_nil! + (x_range.exclusive? ? 0 : 1)\nend\nget(y_begin, y_end, x_begin, x_end)\n"}},{"html_id":"get?(y_begin:Int,y_end:Int,x_begin:Int,x_end:Int):T|Nil-instance-method","name":"get?","doc":"累積和を返します。\n\n[y_begin, y_end), [x_begin, x_end) で指定します。\n\n範囲内に要素が存在しない場合 nil を返します。\n\nNOTE: このAPIは非推奨です。Rangeで指定することが推奨されます。","summary":"<p>累積和を返します。</p>","abstract":false,"args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"args_string":"(y_begin : Int, y_end : Int, x_begin : Int, x_end : Int) : T | Nil","args_html":"(y_begin : <a href=\"../Int.html\">Int</a>, y_end : <a href=\"../Int.html\">Int</a>, x_begin : <a href=\"../Int.html\">Int</a>, x_end : <a href=\"../Int.html\">Int</a>) : T | Nil","location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":36,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L36"},"def":{"name":"get?","args":[{"name":"y_begin","external_name":"y_begin","restriction":"Int"},{"name":"y_end","external_name":"y_end","restriction":"Int"},{"name":"x_begin","external_name":"x_begin","restriction":"Int"},{"name":"x_end","external_name":"x_end","restriction":"Int"}],"return_type":"T | ::Nil","visibility":"Public","body":"if y_begin <= y_end\nelse\n  return nil\nend\nif x_begin <= x_end\nelse\n  return nil\nend\n((@csum[y_end][x_end] - @csum[y_begin][x_end]) - @csum[y_end][x_begin]) + @csum[y_begin][x_begin]\n"}},{"html_id":"get?(y_range:Range(Int|Nil,Int|Nil),x_range:Range(Int|Nil,Int|Nil)):T|Nil-instance-method","name":"get?","doc":"累積和を返します。\n\n[y_begin, y_end), [x_begin, x_end) で指定します。\n\n範囲内に要素が存在しない場合 nil を返します。\n\n```\ncsum = StaticRectangleSum.new(a)\ncsum.get?(0...h, j..j + 2)     # => 28\ncsum.get?(0...100*h, j..j + 2) # => nil\n```","summary":"<p>累積和を返します。</p>","abstract":false,"args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"args_string":"(y_range : Range(Int | Nil, Int | Nil), x_range : Range(Int | Nil, Int | Nil)) : T | Nil","args_html":"(y_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil), x_range : Range(<a href=\"../Int.html\">Int</a> | Nil, <a href=\"../Int.html\">Int</a> | Nil)) : T | Nil","location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":77,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L77"},"def":{"name":"get?","args":[{"name":"y_range","external_name":"y_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"},{"name":"x_range","external_name":"x_range","restriction":"Range(Int | ::Nil, Int | ::Nil)"}],"return_type":"T | ::Nil","visibility":"Public","body":"y_begin = (y_range.begin || 0)\ny_end = if y_range.end.nil?\n  @height\nelse\n  y_range.end.not_nil! + (y_range.exclusive? ? 0 : 1)\nend\nx_begin = (x_range.begin || 0)\nx_end = if x_range.end.nil?\n  @width\nelse\n  x_range.end.not_nil! + (x_range.exclusive? ? 0 : 1)\nend\nget?(y_begin, y_end, x_begin, x_end)\n"}},{"html_id":"height:Int32-instance-method","name":"height","abstract":false,"location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":3,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L3"},"def":{"name":"height","return_type":"Int32","visibility":"Public","body":"@height"}},{"html_id":"width:Int32-instance-method","name":"width","abstract":false,"location":{"filename":"src/nglib/data_structure/static_rectangle_sum.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/data_structure/static_rectangle_sum.cr#L4"},"def":{"name":"width","return_type":"Int32","visibility":"Public","body":"@width"}}]},{"html_id":"nglib/NgLib/Weight","path":"NgLib/Weight.html","kind":"struct","full_name":"NgLib::Weight","name":"Weight","abstract":true,"superclass":{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"nglib/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"nglib/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"nglib/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/nglib/graph/dijkstra.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L4"}],"repository_name":"nglib","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"nglib/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"}],"namespace":{"html_id":"nglib/NgLib","kind":"module","full_name":"NgLib","name":"NgLib"},"constructors":[{"html_id":"inf:self-class-method","name":"inf","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":10,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L10"},"def":{"name":"inf","return_type":"self","visibility":"Public","body":""}},{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L4"},"def":{"name":"new","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}},{"html_id":"zero:self-class-method","name":"zero","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":7,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L7"},"def":{"name":"zero","return_type":"self","visibility":"Public","body":""}}],"instance_methods":[{"html_id":"+(other:self)-instance-method","name":"+","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self)","args_html":"(other : <span class=\"k\">self</span>)","location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":13,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L13"},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":"self"}],"visibility":"Public","body":""}},{"html_id":"<=>(other:self)-instance-method","name":"<=>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self)","args_html":"(other : <span class=\"k\">self</span>)","location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":16,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L16"},"def":{"name":"<=>","args":[{"name":"other","external_name":"other","restriction":"self"}],"visibility":"Public","body":""}},{"html_id":"initialize-instance-method","name":"initialize","abstract":false,"location":{"filename":"src/nglib/graph/dijkstra.cr","line_number":4,"url":"https://github.com/ngng628/compe-library.cr/blob/5d2083705351bd3a243cce199906e99d439257f0/src/nglib/graph/dijkstra.cr#L4"},"def":{"name":"initialize","visibility":"Public","body":""}}]}]}]}})